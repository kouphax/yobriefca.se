---
date: 2011-05-17T23:00:00Z
title: Why Would You Use Micro Web Frameworks in .NET?
published: true
categories: [.NET]
type: article
external: false
---
<blockquote><p><span class="caps">UPDATE</span>: Oh dear James &lt;shakeshead/&gt;.  So it seems someone was paying attention to my post and noticed my benchmarks were <strong>hideously</strong> flawed.  I have removed them because I don't like looking like a total fool but I will be replacing the with <strong>honest, real and unstupified</strong> results as soon as I can.  Apologies for any distress this may have caused.  <acronym title="Fear Uncertainty Doubt"><span class="caps">FUD</span></acronym> is a powerful thing in the wrong hands but ignorance is worse.</p></blockquote><p>I've been doing a bit of research into micro web frameworks in the.<span class="caps">NET</span> world recently and I was posed a question by a colleague.</p><blockquote><p>Whats the point of a micro web framework?</p></blockquote><p>I gave the usual response - more lightweight, smaller foot print blah blah blah. To be honest I was barely convincing myself.  I suspected I had fallen into the trap of latching on to something because it was novel to me rather than any real reason.  I am not saying they don't have a place in solutions technology stack, quite the opposite in fact, what I am saying is that I didn't have sufficient justification for bothering with them.</p><p>So I've spent a bit more time looking at the background of these microframeworks rather than the techs themselves and hopefully the next time someone asks I can give a more convincing reply.</p><h2>What Is A Micro Web Framework</h2><p>Pretty much a micro web framework is a framework that provides the absolute minimum feature set required to create a web application.  Extra features can be added via extensions etc. but the sole purpose of a microframework is to allow the app to handle requests to certain URLs (routing) with a bit of basic error handling for 404's etc. (possibly).  No feature creep, no bloated deployments just ultra-lean request/response handling.</p><p>The most famous microframework, and the one that started it all, comes from the Ruby world - <a href="http://www.sinatrarb.com/">Sinatra</a> and it's "Hello World" example really highlights the ease of creating an app.</p><div class="highlight"><pre><code><span class="nb">require</span> <span class="s1">'sinatra'</span>

<span class="n">get</span> <span class="s1">'/hi'</span> <span class="k">do</span>
  <span class="s2">"Hello World!"</span>
<span class="k">end</span>
</code></pre></div>
<p>Run this and navigate to <code>/hi</code> to see the amazing response of <code>Hello World</code>.</p><h2>Micro Web Frameworks in the .<span class="caps">NET</span> World</h2><p>So how does this compare to similar technologies in the .<span class="caps">NET</span> world.  Most .<span class="caps">NET</span> solutions take a lot of inspiration from <a href="http://www.sinatrarb.com/">Sinatra</a> (and why not it's pretty much the blueprints for the microframeworks) and this one is written using <a href="http://jessicafx.org">Jessica</a>.</p><div class="highlight"><pre><code><span class="k">public</span> <span class="k">class</span> <span class="nc">MyModule</span> <span class="p">:</span> <span class="n">Jessica</span><span class="p">.</span><span class="n">JessModule</span>
<span class="p">{</span>
  <span class="k">public</span> <span class="nf">MyModule</span><span class="p">()</span>
  <span class="p">{</span>
    <span class="n">Get</span><span class="p">(</span><span class="s">"/hi"</span><span class="p">,</span> <span class="n">p</span> <span class="p">=&gt;</span> <span class="s">"Hello, world!"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>OK so there is a bit of extra language noise but this is to be expected when moving from Ruby to C# but it's just as readable.  <a href="http://jessicafx.org">Jessica</a> isn't the only microframework in the .<span class="caps">NET</span> world but it does seem to be one of the better ones (based on a very superficial amount of research - no offence meant to other frameworks - happy to be proven wrong).  The other frameworks considered "micro" include,</p><ul>	<li><a href="http://github.com/thecodejunkie/Nancy">Nancy</a></li>	<li><a href="http://github.com/martinrue/Tinyweb">Tinyweb</a></li>	<li><a href="http://github.com/jondot/nina">Nina</a></li>	<li><a href="http://github.com/carlhoerberg/NSinatra">NSinatra</a></li></ul><h2>What Makes Micro Frameworks Worthwhile?</h2><p>So lets expand on my original argument of <cite>"more lightweight, smaller foot print blah blah blah"</cite>.  The most obvious is that a microframework by design is going to be a lot more lightweight than a normal framework.  It's lifecycle for a request is going to be greatly simplified and ultimately this should help increase performance per request (I currently have no figures to back this up yet but I am working on it).  As well as performance and increased throughput this lightweight approach should greatly reduce the memory footprint which will help your app scale a bit better<sup id="fnr1" class="footnote"><a href="#fn1">1</a></sup>.</p><p>Another reason to consider a microframework is that you are in control of everything and that is good in my book.  It's one of my arguments for choosing <span class="caps">MVC</span> over WebForms.  No unnecessary injection of client side code or script managers or any of that sort of thing.  No overly complex view properties being populated for no reason.  Nothing but the stuff you put in.</p><p>Not exactly within the bounds of a microframework by definition but still worth mentioning is hosting.  <a href="http://nancyfx.org">Nancy</a> has a number of hosting options</p><ul>	<li>Standalone</li>	<li>In a web app</li>	<li>In a <span class="caps">WCF</span> Service</li></ul><p>This sort of swappable hosting greatly increases portability of your app.  Now this is <a href="http://nancyfx.org">Nancy</a> specific but the effort required to create this sort of functionality with another microframework is trivial in comparison to the what it would be in <span class="caps">MVC</span> or WebForms.</p><p>Also many of the microframeworks have some sort of support for <a href="http://owin.org/"><span class="caps">OWIN</span></a> which is essentially a web abstraction that would allow your app to run on any <span class="caps">OWIN</span> supported server<sup id="fnr3" class="footnote"><a href="#fn3">3</a></sup>.  This sort of support would take longer to roll out across the larger frameworks which generally stick to <span class="caps">IIS</span>.  I'm not saying it won't happen but the bigger your framework the slower change is going to happen.</p><p>That brings me to my final point - evolution.  <span class="caps">ASP</span>.<span class="caps">NET</span> <span class="caps">MVC</span> has evolved very fast since v1.0 and there is no sign of that progress abating any time soon.  Still it's speed is hindered by it's size. These microframeworks introduce new features (some experimental for the brave among us) much faster because of the fact they are small.  Extending these frameworks don't require the creation of numerous classes to do simple things - there is generally a common extension point with a very small set of requirements.</p><h2>Conclusion</h2><p>I hope this has helped my colleagues get a better picture of why I think microframeworks are worthy of our time and why I am keen to do a bit of research on them.  I also hope this has broadened a few minds in terms of solution architectures in the .<span class="caps">NET</span> world.  Not everything needs to be some configurable, Enterprise ready, heavyweight application sometimes the simplest solution is all you need.</p><p id="fn1" class="footnote"><a href="#fnr1"><sup>1</sup></a> Provided you don't do something stupid!</p><p id="fn2" class="footnote"><a href="#fnr2"><sup>2</sup></a> As a friend pointed out it's easy to write a fast Hello World server so take these results with a healthy does of skepticism</p><p id="fn3" class="footnote"><a href="#fnr3"><sup>3</sup></a> It's early days for <span class="caps">OWIN</span> but still worth mentioning.</p>