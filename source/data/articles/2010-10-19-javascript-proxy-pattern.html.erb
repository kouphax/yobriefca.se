--- 
layout: post
title: JavaScript Proxy Pattern
published: true
categories: [JavaScript]
---
  <p><p>More often than not when using 3rd party Javascript widgets/plugins/frameworks is that they don&rsquo;t behave in exactly the way that you want forcing you to change tactics, write some horribly messy boilerplate code, hack the original code or look for alternatives. The proxy pattern is a useful pattern that provides a sort of AOP-lite technique that can be used to transparently manage 3rd party code without having to make breaking changes or repeating horrible code from a single point in the code.</p><p>Functions are 1st class objects in JavaScript and this is the feature that powers this pattern. Imagine the setup below,</p><p><script src="https://gist.github.com/634816.js"></script></p><p>Now imagine there are a set of URLs that require some sort of authentication token passed along with the request. How do we deal with that? Well some people would just hack the internal functions but that&rsquo;s a bad idea as it probably breaks other parts of the system. Another way to do it would be to write your own Ajax framework for the new calls you want to make but that&rsquo;s overkill. The proxy pattern can help here.</p><p><script src="https://gist.github.com/634818.js"></script></p><p>So basically if the URL is a secured URL (present in the XHR.securedURLs array) then there will be a bit of pre-processing done to the URL before the function is called. Otherwise the normal function is called. That is the primary aim of the proxy pattern &ndash; to enhance existing functionality &ndash; at the very least the proxied function should fall back to the original function otherwise other parts of the system could be come affected (unless you know what you are doing of course &ndash; cancelling illegal calls etc).</p></p>