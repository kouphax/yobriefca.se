<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width" /> 
        <title>Extensions</title>
        
        <link rel="stylesheet" href="../style.css" type="text/css" media="screen" charset="utf-8"> 
        
        <link href="../js/prettify.css" type="text/css" rel="stylesheet" />
        <script type="text/javascript" src="../js/prettify.js"></script>
    </head>
    <body  class="manual" onload="prettyPrint()">
      <div class="container"> 

        <div class="nav"> 
          <ul> 
            
            <li class="first"><a href="../">Home</a></li>
            <li><a href="../docs">Documentation</a></li> 
            <li><a href="../ext/">Extensions</a></li> 
            <li><a href="../src/baler/Baler.html">Annotated Source</a></li> 
          </ul> 
        </div>
        
        <div style="clear:both">&nbsp;</div>
<h1>Baler Extensions</h1>
<p>Baler can be extended to provide extra functionality and content processing such as language translation and compressions/minification.  The following list of extensions highlight what is currently available.  Don&#8217;t see something you need?  You can <a href="../docs/#section_5">write your own</a> extensions as well.</p>
<hr/>
<ul>
	<li><a href="#section_1">1 CoffeeScript</a>
	<ul>
		<li><a href="#section_1_1" title="">1.1 AsCoffeeScript</a></li>
	</ul></li>
	<li><a href="#section_2">2 .<span class="caps">LESS</span></a>
	<ul>
		<li><a href="#section_2_1" title="">2.1 AsLess</a></li>
	</ul></li>
	<li><a href="#section_3">3 Microsoft Ajax Minifier</a>
	<ul>
		<li><a href="#section_3_1" title="">3.1 MinifyJavaScript</a></li>
		<li><a href="#section_3_2" title="">3.2 MinifyCss</a></li>
	</ul></li>
	<li><a href="#section_4">4 Named Bales</a>
	<ul>
		<li><a href="section_4_1" title="">4.1 NameAs</a></li>
		<li><a href="#section_4_2" title="">4.2 NamedBales.Get</a></li>
	</ul></li>
	<li><a href="#section_5">5 <span class="caps">CSS</span> Media</a>
	<ul>
		<li><a href="#section_5_1" title="">5.1 WithMedia</a></li>
		<li><a href="#section_5_2" title="">5.2 AsCss</a></li>
	</ul></li>
</ul>
<h2 id="section_1">1 CoffeeScript</h2>
<pre><code>PM&gt; Install-Package CodeSlice.Web.Baler.Extensions.CoffeeScript</code></pre>
<ul>
	<li><a href="http://github.com/kouphax/baler-extensions-coffeescript">Project Repo</a></li>
	<li><a href="../src/extensions/coffeescript/CoffeeScriptExtensions.html">Annotated Source Code</a></li>
</ul>
<p>The CoffeeScript extension allows the items in JavaScript bales to be written using <a href="http://coffeescript.org">CoffeeScript</a> instead of JavaScript.</p>
<h3 id="section_1_1">1.1 AsCoffeeScript()</h3>
<p>The <code>AsCoffeeScript</code> method will convert each bale item individually using the <code>CoffeeScriptProcessor</code> and call <code>AsJs</code> to return the generated <code>script</code> tag in one fell swoop.</p>
<pre class="prettyprint"><code class="prettyprint">Bale.Build(...).AsCoffeeScript();</code></pre>
<p>Will produce a <code>script</code> tag something like this,</p>
<pre class="prettyprint"><code class="prettyprint">&lt;script type="text/javascript" src="..."&gt;&lt;/script&gt;</code></pre>
<h2 id="section_2">2 .<span class="caps">LESS</span></h2>
<pre><code>PM&gt; Install-Package CodeSlice.Web.Baler.Extensions.Less</code></pre>
<ul>
	<li><a href="http://github.com/kouphax/baler-extensions-less">Project Repo</a></li>
	<li><a href="../src/extensions/dotless/LessExtensions.html">Annotated Source Code</a></li>
</ul>
<p>The .<span class="caps">LESS</span> extension allows the items in <span class="caps">CSS</span> bales to be written using <a href="http://dotless.org">.<span class="caps">LESS</span></a> instead of <span class="caps">CSS</span>.</p>
<h3 id="section_2_1">2.1 AsLess()</h3>
<p>The <code>AsLess</code> method will convert <strong>each</strong> bale item individually using the <code>.LESS</code> Processor and call <code>AsCss</code> to return the generated <code>tag</code> tag in one fell swoop.</p>
<pre class="prettyprint"><code class="prettyprint">Bale.Build(...).AsLess();</code></pre>
<p>Will produce a <code>link</code> tag something like this,</p>
<pre class="prettyprint"><code class="prettyprint">&lt;link rel="stylesheet" href="..." type="text/css"  /&gt; </code></pre>
<p><strong>Note:</strong> Care needs to be taken when working with .<span class="caps">LESS</span> files. <code>AsLess</code> processes <strong><span class="caps">EACH</span></strong> item individually so assuming you can use variable across files is incorrect.  If you want something like that you could write it yourself using the <code>After</code> action :).  Pull Requests Ahoy!</p>
<h2 id="section_3">3 Microsoft Ajax Minifier</h2>
<pre><code>PM&gt; Install-Package CodeSlice.Web.Baler.Extensions.AjaxMinifier</code></pre>
<ul>
	<li><a href="http://github.com/kouphax/baler-extensions-ajaxmin">Project Repo</a></li>
	<li><a href="../src/extensions/ajaxmin/MinificationExtensions.html">Annotated Source Code</a></li>
</ul>
<p>The Ajax Minifier extensions allow you to use the AjaxMin to compress/minify both <span class="caps">CSS</span> and JavaScript bales.  Due to its nature AjaxMin <strong>needs</strong> to run last after all other processing (you can&#8217;t compress CoffeeScript or .<span class="caps">LESS</span> for example) so it is given an <code>Order</code> value of 999.  Just be aware of this when trying to be uberclever.</p>
<h3 id="section_3_1">3.1 MinifyJavaScript()</h3>
<p>Ensures the contents of a JavaScript bale are compressed before being written to the output file.  Returns the <code>IBale</code> instance to support chaining.</p>
<pre class="prettyprint"><code class="prettyprint">Bale.Build(...).MinifyJavaScript().AsJs();</code></pre>
<h3 id="section_3_2">3.2 MinifyStyleSheet()</h3>
<p>Ensures the contents of a <span class="caps">CSS</span> bale are compressed before being written to the output file.  Returns the <code>IBale</code> instance to support chaining.</p>
<pre class="prettyprint"><code class="prettyprint">Bale.Build(...).MinifyStyleSheet().AsCss();</code></pre>
<h2 id="section_4">4 Named Bales</h2>
<pre><code>PM&gt; Install-Package CodeSlice.Web.Baler.Extensions.NamedBales</code></pre>
<ul>
	<li><a href="http://github.com/kouphax/baler-extensions-namedbales">Project Repo</a></li>
	<li><a href="../src/extensions/namedbales/NamedBalesExtensions.html">Annotated Source Code</a></li>
</ul>
<p>TheNamed Bales extension provides a mechanism to declare a Bale definition up front and reuse the same bale throughout the application without having to redefine the contents over and over. For example we can define a bale with 3 scripts and name it</p>
<pre class="prettyprint"><code class="prettyprint">Baler.Build(
  "script1.js", 
  "script2.js", 
  "script3.js"
).NameAs("base")</code></pre>
<p>This can returns the Bale itself so can be used inline or somewhere like <code>Global.asax</code>. Next we can render this bundle using AsJs later in the app like so,</p>
<pre class="prettyprint"><code class="prettyprint">NamedBales.Get("base").AsJs();</code></pre>
<p>Currently this doesn&#8217;t short circuit Balers internal cache so a second cache check will be made using the internal hashing mechanism. This is either a good thing or a bad thing. But for now it&#8217;s a good thing!  This does have the side effect of ensuring that any unnamed bales with the same signature as a named bale will still get cached bale.</p>
<h3 id="section_4_1">4.1 NameAs()</h3>
<p><code>NameAs</code> adds some sugar to the <code>IBale</code> interface allowing us to apply a friendly name to a bale. There is currently no check to see if the bale name is already taken. Existing definitions will be overwritten.</p>
<h3 id="section_4_2">4.2 NamedBales.Get()</h3>
<p>Allows us to retrieve a bale based on a friendly name defined by the developer. Will throw and exception if the bale name doesn&#8217;t exist in the cache &#8211; otherwise the bale itself.</p>
<h2 id="section_5"><span class="caps">CSS</span> Media</h2>
<pre><code>PM&gt; Install-Package CodeSlice.Web.Baler.Extensions.CssMedia</code></pre>
<ul>
	<li><a href="http://github.com/kouphax/baler-extensions-cssmedia">Project Repo</a></li>
	<li><a href="../src/extensions/cssmedia/CssMediaExtensions.html">Annotated Source Code</a></li>
</ul>
<p>CssMediaExtensions provide methods for setting the <code>media</code> type that a stylesheet should render for such as <code>screen</code> or <code>print</code></p>
<h3 id="section_5_1">WithMedia()</h3>
<p>The <code>WithMedia</code> Extension allows you to set the media attribute of the rendered <span class="caps">CSS</span> tag.</p>
<pre class="prettyprint"><code class="prettyprint">bale.Build(...).WithMedia("screen").AsCss();</code></pre>
<h3 id="section_5_2">AsCss()</h3>
<p><code>AsCss</code> overrides the existing <code>AsCss</code> method allowing you to pass a <code>media</code> attribute value directly into the render call.  For example the above example could simply be written as,</p>
<pre class="prettyprint"><code class="prettyprint">bale.Build(...).AsCss("screen");</code></pre>

      </div>
      
    </body>
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-19143623-6']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
</html>