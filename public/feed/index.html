<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Yo Briefcase!]]></title>
  <link href="http://yobriefca.se/feed/index.html" rel="self"/>
  <link href="http://yobriefca.se/"/>
  <updated>2012-05-26T22:40:07+01:00</updated>
  <id>http://yobriefca.se/</id>
  <author>
    <name><![CDATA[James Hughes]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[5 Years]]></title>
    <link href="http://yobriefca.se/blog/2012/05/26/5-years/"/>
    <updated>2012-05-26T22:11:00+01:00</updated>
    <id>http://yobriefca.se/blog/2012/05/26/5-years</id>
    <content type="html"><![CDATA[<p>So I am sitting here, here being London - 315(ish) miles away from my family, halfway through the <a href="http://nhshackday.com">NHS Hack Day</a> and having a bit of a personal crisis.  I often have these little episodes but this one has been languishing in my dusty old head for a good while - refusing to go away, nagging me every time I have a chance to ponder things.  It&#8217;s the same old thing - why am I doing any of this stuff I do?  I don&#8217;t generally get a great amount of opportunity in work to really stretch my creative urges.  That sort of thing happens on my own time and therefore given my other responsibilities (my wife, family and lifes associated activities) is done under a fairly tight deadline.  Add this to the fact I bore easily of things that aren&#8217;t really benefiting people immediately - I tend to flit, easily, between little unfinished projects.  But wait&#8230;.  I did it again.  You see back there, about 2 sentences ago I just sidelined my entire life.  Thrown between two looming brackets I relegated my wife and family to a byline yet again.  Oy vey.</p>

<p>And this brings me, neatly enough, to the point of this entire ramble.</p>

<p>Five years ago I married my awesome wife and in that time I&#8217;ve done a heap of things - relocated twice, had two kids bought a house, got promoted, pissed everyone off, seen a few countries and bought/traded three cars (which get smaller every time oddly enough).  And through all this hopping around my wife has been the one true constant.  She thinks, most of the time, I don&#8217;t care about her - after all I&#8217;m in London participating in a hackathon on our 5th wedding anniversary because I stupidly didn&#8217;t put two and two together and notice the clash.  So yeah it may damn well seem like she comes in a close second to my hobby/career stuff (you know the stuff I already mentioned was pulling into crisis mode).  But it&#8217;s not true.  I can&#8217;t help the fact I am &#8220;emotionally retarded&#8221;, as my sister once called it, but perhaps once in a while I really should let her know that she means more than she thinks she does.  And here it is.  A little bit of emotional letting if you will.</p>

<p>Dear Emma - happy anniversary, I hope we have plenty more, thank you for putting up with me, you&#8217;re aces.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Starter for 10 - Scala, Play 2 and Mongo]]></title>
    <link href="http://yobriefca.se/blog/2012/05/08/starter-for-10-scala/"/>
    <updated>2012-05-08T07:26:00+01:00</updated>
    <id>http://yobriefca.se/blog/2012/05/08/starter-for-10-scala</id>
    <content type="html"><![CDATA[<p>This post is going to cover the whole &#8220;getting up an running&#8221; for a simple Scala stack - namely Scala, Play 2 and Mongo.  2012 has been the year of the polyglot for me.  I&#8217;ve been working on projects with .NET, Node.js, Ruby and Scala in the mix.  I&#8217;ve seen how Rails can really boost developer productivity (compared to the likes of ASP.NET MVC or other, less opinionated, frameworks) but I must say - In terms of developer productivity, at least for me, nothing has come close to the Scala/Play/Mongo combo.  I hadn&#8217;t touched functional programming since SML in university but I found Scala allowed me to express myself in a very terse manner.  Combine that with Play and its straightforward, uncomplicated approach to building web apps and Mongo with its schemaless nature then its productivity++ all the way.</p>

<p>It&#8217;s worth pointing out right away that James Ward already has a <a href="http://www.jamesward.com/2012/02/21/play-framework-2-with-scala-anorm-json-coffeescript-jquery-heroku">similar post</a> and a <a href="https://github.com/jamesward/play2torial/blob/master/JAVA.md">(currently Java only) tutorial</a>.  These are  much better but they dont cover the Mongo/Caabah/Salat side of things (not that it is particularly difficult) so at least I&#8217;ve got a leg to stand on.</p>

<h2>Installing</h2>

<blockquote><p>Versions used in this post</p>

<ul>
<li>Scala (2.9.1)</li>
<li>Play (2.0.1)</li>
<li>Mongo (2.0.4)</li>
</ul>
</blockquote>

<p>I&#8217;m going to assume that you are capable of installing software (by following basic instructions) so I won&#8217;t waste your time covering this.  Here are some links to kick you off,</p>

<ul>
<li><a href="http://www.scala-lang.org/downloads">Scala</a></li>
<li><a href="http://www.playframework.org/download">Play 2</a> (it just goes on your <code>PATH</code>)</li>
<li><a href="http://www.mongodb.org/downloads">Mongo</a></li>
</ul>


<p>Alternatively if you are on OSX - <a href="http://mxcl.github.com/homebrew/">Homebrew</a> has got everything you need at the time of putting this together.</p>

<h2>Generating your Application</h2>

<p>Play is a command line tool and can be used to generate your basic app skeleton,</p>

<pre><code>play new &lt;project name&gt;
</code></pre>

<p>Just fill in the project name and you will be guided through the basic generation of the project, e.g.</p>

<pre><code>→ play new sampleapp                                              
       _            _ 
 _ __ | | __ _ _  _| |
| '_ \| |/ _' | || |_|
|  __/|_|\____|\__ (_)
|_|            |__/ 

play! 2.0.1, http://www.playframework.org

The new application will be created in /Users/kouphax/Projects/temp/sampleapp

What is the application name? 
&gt; sampleapp

Which template do you want to use for this new application? 

  1 - Create a simple Scala application
  2 - Create a simple Java application
  3 - Create an empty project

&gt; 1

OK, application sampleapp is created.

Have fun!
</code></pre>

<p>Indeed - fun you shall have.</p>

<h2>Dependencies</h2>

<p>Working with Mongo directly is all well and good but it can be made a bit simpler with a few dependencies.  Namely <a href="http://api.mongodb.org/scala/casbah/2.0/">Casbah</a> and <a href="https://github.com/novus/salat">Salat</a>.  Casbah is the official Scala Toolkit for MongoDB and Salat allows you to map to and from the generic Mongo object classes into more concrete case classes.</p>

<p>To add the dependencies you need to update the <code>Build.scala</code> file in the generated <code>project</code> directory.  Firstly you need to update the <code>appDependencies</code> to create the dependency on the new two libraries,</p>

<pre><code>val appDependencies = Seq(
  "com.mongodb.casbah" %% "casbah" % "2.1.5-1",
  "com.novus" %% "salat-core" % "0.0.8-SNAPSHOT"
)
</code></pre>

<p>Then you&#8217;ll need to add the <code>resolvers</code> to the <code>main</code> project declaration,</p>

<pre><code> val main = PlayProject(appName, appVersion, appDependencies, mainLang = SCALA).settings
   resolvers ++= Seq(
     "repo.novus snaps" at "http://repo.novus.com/snapshots/")
 )
</code></pre>

<p>And thats the project set up with all its dependencies ready to hack on.  So lets drive a spike through this stack and see what it looks like shall we?  Yes why not, tallyho old bean!</p>

<h2>The Model &amp; Data Access</h2>

<p>First things first lets create our model.  So we are going to write a very basic registration app.  People &#8220;register&#8221; on the site, for fun or something, I dunno as our stakeholders - I just write the code.</p>

<p>Our model is super simple,</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">case</span> <span class="k">class</span> <span class="nc">Registration</span><span class="o">(</span>
</span><span class='line'>  <span class="n">username</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span>
</span><span class='line'>  <span class="n">password</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span>
</span><span class='line'>  <span class="n">confirm</span><span class="k">:</span>  <span class="kt">String</span><span class="o">,</span>
</span><span class='line'>  <span class="n">realName</span><span class="k">:</span> <span class="kt">String</span>
</span><span class='line'><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now to the interesting part.  To persist this in a Mongo data store we need to make use of the two libraries we imported previously,</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">import</span> <span class="nn">com.mongodb.casbah.Imports._</span>
</span><span class='line'><span class="k">import</span> <span class="nn">com.novus.salat._</span>
</span><span class='line'><span class="k">import</span> <span class="nn">com.novus.salat.global._</span>
</span><span class='line'>
</span><span class='line'><span class="k">object</span> <span class="nc">Registrations</span> <span class="o">{</span>
</span><span class='line'>  <span class="k">val</span> <span class="n">registrations</span> <span class="k">=</span> <span class="nc">MongoConnection</span><span class="o">()(</span><span class="s">&quot;sampleapp&quot;</span><span class="o">)(</span><span class="s">&quot;registrations&quot;</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="n">all</span> <span class="k">=</span> <span class="n">registrations</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="n">grater</span><span class="o">[</span><span class="kt">Registration</span><span class="o">].</span><span class="n">asObject</span><span class="o">(</span><span class="n">_</span><span class="o">)).</span><span class="n">toList</span>
</span><span class='line'>  <span class="k">def</span> <span class="n">create</span><span class="o">(</span><span class="n">registration</span><span class="k">:</span> <span class="kt">Registration</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">registrations</span> <span class="o">+=</span> <span class="n">grater</span><span class="o">[</span><span class="kt">Registration</span><span class="o">].</span><span class="n">asDBObject</span><span class="o">(</span><span class="n">registration</span><span class="o">)</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>First things first we create a connection using the <code>MongoConnection</code> class and grabs the <code>registrations</code> collection from the <code>sampleapp</code> store.  Now it&#8217;s worth noting that provided Mongo is up and running we don&#8217;t actually need to create either the store or the collection - the act of acting on a collection is enough to create both.</p>

<p>Next up I defined two methods <code>all</code> and <code>create</code>.</p>

<ul>
<li><code>all</code> simply pulls out all the collection data using Casbah, performs a map over the collection (which is a collection of <code>MongoDBObject</code>/<code>DBObject</code>s) and uses the <code>grater</code> object provided by Salat to map from these generic objects to our <code>Registration</code> case class.</li>
<li><code>create</code> simply adds an element (cast from a <code>Registration</code> class to an acceptable <code>DBObject</code>) to the collection.</li>
</ul>


<p>Now isn&#8217;t that a nice terse data access layer?  Yes it is.  You want to make changes?  Go ahead - the fear of change is gone or much reduced compared to the typical approach.</p>

<h2>Controllers</h2>

<p>Next up we want to add a register controller and update the existing <code>Application</code> controller.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">object</span> <span class="nc">Application</span> <span class="k">extends</span> <span class="nc">Controller</span> <span class="o">{</span>
</span><span class='line'>  <span class="k">def</span> <span class="n">index</span> <span class="k">=</span> <span class="nc">Action</span> <span class="o">{</span> <span class="k">implicit</span> <span class="n">request</span> <span class="k">=&gt;</span>
</span><span class='line'>    <span class="nc">Ok</span><span class="o">(</span><span class="n">views</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">index</span><span class="o">(</span><span class="nc">Registrations</span><span class="o">.</span><span class="n">all</span><span class="o">))</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The only difference here is the <code>Registrations.all</code> so we can list the registrations in the UI.  Lets jump over the the register controller</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">object</span> <span class="nc">Register</span> <span class="k">extends</span> <span class="nc">Controller</span> <span class="o">{</span>
</span><span class='line'>  <span class="k">def</span> <span class="n">registrationForm</span> <span class="k">=</span> <span class="nc">Form</span><span class="o">(</span>
</span><span class='line'>    <span class="n">mapping</span><span class="o">(</span>
</span><span class='line'>      <span class="s">&quot;username&quot;</span> <span class="o">-&gt;</span> <span class="n">nonEmptyText</span><span class="o">,</span>
</span><span class='line'>      <span class="s">&quot;password&quot;</span> <span class="o">-&gt;</span> <span class="n">nonEmptyText</span><span class="o">,</span>
</span><span class='line'>      <span class="s">&quot;confirm&quot;</span> <span class="o">-&gt;</span> <span class="n">nonEmptyText</span><span class="o">,</span>
</span><span class='line'>      <span class="s">&quot;realName&quot;</span> <span class="o">-&gt;</span> <span class="n">text</span>
</span><span class='line'>    <span class="o">)(</span><span class="nc">Registration</span><span class="o">.</span><span class="n">apply</span><span class="o">)(</span><span class="nc">Registration</span><span class="o">.</span><span class="n">unapply</span><span class="o">)</span>
</span><span class='line'>      <span class="n">verifying</span><span class="o">(</span><span class="s">&quot;Passwords must match&quot;</span><span class="o">,</span> <span class="n">fields</span> <span class="k">=&gt;</span> <span class="n">fields</span> <span class="k">match</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">case</span> <span class="nc">Registration</span><span class="o">(</span><span class="n">_</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">confirmation</span><span class="o">,</span> <span class="n">_</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">password</span><span class="o">.</span><span class="n">equals</span><span class="o">(</span><span class="n">confirmation</span><span class="o">)</span>
</span><span class='line'>      <span class="o">})</span>
</span><span class='line'>  <span class="o">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="n">index</span> <span class="k">=</span> <span class="nc">Action</span> <span class="o">{</span> <span class="k">implicit</span> <span class="n">request</span> <span class="k">=&gt;</span>
</span><span class='line'>    <span class="nc">Ok</span><span class="o">(</span><span class="n">views</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">register</span><span class="o">(</span><span class="n">registrationForm</span><span class="o">))</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="n">register</span> <span class="k">=</span> <span class="nc">Action</span> <span class="o">{</span> <span class="k">implicit</span> <span class="n">request</span> <span class="k">=&gt;</span>
</span><span class='line'>    <span class="n">registrationForm</span><span class="o">.</span><span class="n">bindFromRequest</span><span class="o">.</span><span class="n">fold</span><span class="o">(</span>
</span><span class='line'>      <span class="n">form</span> <span class="k">=&gt;</span> <span class="nc">BadRequest</span><span class="o">(</span><span class="n">views</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">register</span><span class="o">(</span><span class="n">form</span><span class="o">)),</span>
</span><span class='line'>      <span class="n">registration</span> <span class="k">=&gt;</span> <span class="o">{</span>
</span><span class='line'>        <span class="nc">Registrations</span><span class="o">.</span><span class="n">create</span><span class="o">(</span><span class="n">registration</span><span class="o">)</span>
</span><span class='line'>        <span class="nc">Redirect</span><span class="o">(</span><span class="n">routes</span><span class="o">.</span><span class="nc">Application</span><span class="o">.</span><span class="n">index</span><span class="o">()).</span><span class="n">flashing</span><span class="o">(</span><span class="s">&quot;message&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;User Registered!&quot;</span><span class="o">)</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>    <span class="o">)</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>OK thats a lot to take in so lets break it down a bit.</p>

<h3>The Form</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">def</span> <span class="n">registrationForm</span> <span class="k">=</span> <span class="nc">Form</span><span class="o">(</span>
</span><span class='line'>  <span class="n">mapping</span><span class="o">(</span>
</span><span class='line'>    <span class="s">&quot;username&quot;</span> <span class="o">-&gt;</span> <span class="n">nonEmptyText</span><span class="o">,</span>
</span><span class='line'>    <span class="s">&quot;password&quot;</span> <span class="o">-&gt;</span> <span class="n">nonEmptyText</span><span class="o">,</span>
</span><span class='line'>    <span class="s">&quot;confirm&quot;</span> <span class="o">-&gt;</span> <span class="n">nonEmptyText</span><span class="o">,</span>
</span><span class='line'>    <span class="s">&quot;realName&quot;</span> <span class="o">-&gt;</span> <span class="n">text</span>
</span><span class='line'>  <span class="o">)(</span><span class="nc">Registration</span><span class="o">.</span><span class="n">apply</span><span class="o">)(</span><span class="nc">Registration</span><span class="o">.</span><span class="n">unapply</span><span class="o">)</span>
</span><span class='line'>    <span class="n">verifying</span><span class="o">(</span><span class="s">&quot;Passwords must match&quot;</span><span class="o">,</span> <span class="n">fields</span> <span class="k">=&gt;</span> <span class="n">fields</span> <span class="k">match</span> <span class="o">{</span>
</span><span class='line'>      <span class="k">case</span> <span class="nc">Registration</span><span class="o">(</span><span class="n">_</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">confirmation</span><span class="o">,</span> <span class="n">_</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">password</span><span class="o">.</span><span class="n">equals</span><span class="o">(</span><span class="n">confirmation</span><span class="o">)</span>
</span><span class='line'>    <span class="o">})</span>
</span><span class='line'><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>The Form concept in Play is a bit like a ViewModel of sorts.  It defines validation and mapping rules and allows you to pass a structured object between the controller and the view (inluding error information etc.).  In fact you aren&#8217;t even obliged to bind this to a class, they can exists as themselves.  My example above shows you how to bind to and from our <code>Registration</code> class as well as some field and crossfield/global validation.</p>

<h3>Model Binding</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">registrationForm</span><span class="o">.</span><span class="n">bindFromRequest</span><span class="o">.</span><span class="n">fold</span><span class="o">(</span>
</span><span class='line'>  <span class="n">form</span> <span class="k">=&gt;</span> <span class="nc">BadRequest</span><span class="o">(</span><span class="n">views</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">register</span><span class="o">(</span><span class="n">form</span><span class="o">)),</span>
</span><span class='line'>  <span class="n">registration</span> <span class="k">=&gt;</span> <span class="o">{</span>
</span><span class='line'>    <span class="nc">Registrations</span><span class="o">.</span><span class="n">create</span><span class="o">(</span><span class="n">registration</span><span class="o">)</span>
</span><span class='line'>    <span class="nc">Redirect</span><span class="o">(</span><span class="n">routes</span><span class="o">.</span><span class="nc">Application</span><span class="o">.</span><span class="n">index</span><span class="o">()).</span><span class="n">flashing</span><span class="o">(</span>
</span><span class='line'>      <span class="s">&quot;message&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;User Registered!&quot;</span>
</span><span class='line'>    <span class="o">)</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>This little functional approach allows us to bind a request to our <code>registrationForm</code> and react to invalid input.  In the case of an invalid bind the first argument into <code>fold</code> is executed which returns a bad request with an instance of the form.  In the case of the happy path we simply push our <code>registration</code> instance into the data store and redirect to the <code>index</code> action along with a flash message.</p>

<h3>Flash</h3>

<p>Flash is like a carefully curated session variable that exists only for the next request.  This allows you to pass messages or some very transient data between requests.  This is also accessible in the view which is handy.</p>

<h2>Routes</h2>

<p>Routes in Play are written into the <code>config/routes</code> file and this is used as a basis to generate reverse routes (this gives is us statically typed routes via the <code>routes</code> object).</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">#</span> <span class="nc">Routes</span>
</span><span class='line'><span class="k">#</span> <span class="nc">This</span> <span class="n">file</span> <span class="n">defines</span> <span class="n">all</span> <span class="n">application</span> <span class="n">routes</span> <span class="o">(</span><span class="nc">Higher</span> <span class="n">priority</span> <span class="n">routes</span> <span class="n">first</span><span class="o">)</span>
</span><span class='line'><span class="k">#</span> <span class="o">~~~~</span>
</span><span class='line'>
</span><span class='line'><span class="k">#</span> <span class="nc">Home</span> <span class="n">page</span>
</span><span class='line'><span class="nc">GET</span>     <span class="o">/</span>                           <span class="n">controllers</span><span class="o">.</span><span class="nc">Application</span><span class="o">.</span><span class="n">index</span>
</span><span class='line'><span class="nc">GET</span>     <span class="o">/</span><span class="n">register</span>                   <span class="n">controllers</span><span class="o">.</span><span class="nc">Register</span><span class="o">.</span><span class="n">index</span>
</span><span class='line'><span class="nc">POST</span>    <span class="o">/</span><span class="n">register</span>                   <span class="n">controllers</span><span class="o">.</span><span class="nc">Register</span><span class="o">.</span><span class="n">register</span>
</span><span class='line'>
</span><span class='line'><span class="k">#</span> <span class="nc">Map</span> <span class="n">static</span> <span class="n">resources</span> <span class="n">from</span> <span class="n">the</span> <span class="o">/</span><span class="n">public</span> <span class="n">folder</span> <span class="n">to</span> <span class="n">the</span> <span class="o">/</span><span class="n">assets</span> <span class="nc">URL</span> <span class="n">path</span>
</span><span class='line'><span class="nc">GET</span>     <span class="o">/</span><span class="n">assets</span><span class="cm">/*file               controllers.Assets.at(path=&quot;/public&quot;, file)</span>
</span></code></pre></td></tr></table></div></figure>


<p>So I added two new routes for register that allows us to view and submit our registration form.</p>

<h2>The Views</h2>

<p>Right lets do something a little neat - remember I mentioned James Ward earlier?  Well he curates a little project called <a href="http://webjars.github.com">webjars</a> which allows us to add client side resources as managed dependencies to our project.  So lets prettify our UI with a bit of <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a> love.</p>

<p>First thing we want to do is update our <code>Build.scala</code> file with webjars resolver and our bootstrap dependency</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">val</span> <span class="n">appDependencies</span> <span class="k">=</span> <span class="nc">Seq</span><span class="o">(</span>
</span><span class='line'>  <span class="s">&quot;com.github.twitter&quot;</span> <span class="o">%</span>  <span class="s">&quot;bootstrap&quot;</span>  <span class="o">%</span> <span class="s">&quot;2.0.2&quot;</span><span class="o">,</span>
</span><span class='line'>  <span class="c1">// other deps...</span>
</span><span class='line'><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">val</span> <span class="n">main</span> <span class="k">=</span> <span class="nc">PlayProject</span><span class="o">(</span><span class="n">appName</span><span class="o">,</span> <span class="n">appVersion</span><span class="o">,</span> <span class="n">appDependencies</span><span class="o">,</span> <span class="n">mainLang</span> <span class="k">=</span> <span class="nc">SCALA</span><span class="o">).</span><span class="n">settings</span><span class="o">(</span>
</span><span class='line'>  <span class="n">resolvers</span> <span class="o">++=</span> <span class="nc">Seq</span><span class="o">(</span>
</span><span class='line'>    <span class="s">&quot;webjars&quot;</span>          <span class="n">at</span> <span class="s">&quot;http://webjars.github.com/m2&quot;</span><span class="o">,</span>
</span><span class='line'>    <span class="c1">// other resolvers...</span>
</span><span class='line'>  <span class="o">)</span>
</span><span class='line'><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then in our <code>main.scala.html</code> we can reference the bootstrap assets in the normal way,</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">media=</span><span class="s">&quot;screen&quot;</span> <span class="na">href=</span><span class="s">&quot;@routes.Assets.at(&quot;</span><span class="na">stylesheets</span><span class="err">/</span><span class="na">bootstrap</span><span class="err">.</span><span class="na">min</span><span class="err">.</span><span class="na">css</span><span class="err">&quot;)&quot;</span><span class="nt">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Index (index.scala.html)</h3>

<p>Here we simply list the current registered people,</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>@(registrations: List[Registration])(implicit flash: Flash)
</span><span class='line'>@main(&quot;Super Simple Sample&quot;) {
</span><span class='line'>  @if(flash.data.contains(&quot;message&quot;)){
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;alert alert-success&quot;</span><span class="nt">&gt;</span>@flash.get(&quot;message&quot;)<span class="nt">&lt;/div&gt;</span>
</span><span class='line'>  }
</span><span class='line'>  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;@routes.Register.index&quot;</span> <span class="na">class=</span><span class="s">&quot;btn btn-primary&quot;</span><span class="nt">&gt;</span>Register<span class="nt">&lt;/a&gt;</span>
</span><span class='line'>  <span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">&quot;table table-bordered&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;thead&gt;</span>
</span><span class='line'>      <span class="nt">&lt;tr&gt;</span>
</span><span class='line'>        <span class="nt">&lt;th&gt;</span>Username<span class="nt">&lt;/th&gt;</span>
</span><span class='line'>        <span class="nt">&lt;th&gt;</span>Real Name<span class="nt">&lt;/th&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/thead&gt;</span>
</span><span class='line'>    <span class="nt">&lt;tbody&gt;</span>
</span><span class='line'>      @registrations.map { registration =&gt;
</span><span class='line'>        <span class="nt">&lt;tr&gt;</span>
</span><span class='line'>          <span class="nt">&lt;td&gt;</span>@registration.username<span class="nt">&lt;/td&gt;</span>
</span><span class='line'>          <span class="nt">&lt;td&gt;</span>@registration.realName<span class="nt">&lt;/td&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>      }
</span><span class='line'>    <span class="nt">&lt;/tbody&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/table&gt;</span>
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>


<p>The interesting thing about Play 2 views is that they are just Scala.  Yep neat.  In fact any .NETters will feel quite at home as they are reminiscent of Razor views too.</p>

<h3>Register (register.scala.html)</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>@(registrationForm: Form[models.Registration])(implicit flash: Flash)
</span><span class='line'>
</span><span class='line'>@import play.api.i18n._
</span><span class='line'>@import views.html.helper._
</span><span class='line'>
</span><span class='line'>@input(field: Field, label: String, fieldType: Symbol = &#39;text) = {
</span><span class='line'>  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;control-group @if(field.hasErrors) {error}&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;label</span> <span class="na">class=</span><span class="s">&quot;control-label&quot;</span> <span class="na">for=</span><span class="s">&quot;@field.id&quot;</span><span class="nt">&gt;</span>@label<span class="nt">&lt;/label&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;controls&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;@fieldType.name&quot;</span> <span class="na">value=</span><span class="s">&quot;@field.value&quot;</span> <span class="na">name=</span><span class="s">&quot;@field.id&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      @if(field.hasErrors){
</span><span class='line'>        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;help-inline&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>          @Messages(field.error.head.message)
</span><span class='line'>        <span class="nt">&lt;/span&gt;</span>
</span><span class='line'>      }
</span><span class='line'>    <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>@main(&quot;Super Simple Sample&quot;) {
</span><span class='line'>  @form(action = routes.Register.register, &#39;class -&gt; &quot;form-horizontal&quot;) {
</span><span class='line'>    <span class="nt">&lt;fieldset&gt;</span>
</span><span class='line'>      <span class="nt">&lt;legend&gt;</span>Registration<span class="nt">&lt;/legend&gt;</span>
</span><span class='line'>      @registrationForm.globalError.map { error =&gt;
</span><span class='line'>        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&#39;row&#39;</span><span class="nt">&gt;</span>
</span><span class='line'>          <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;alert alert-error&quot;</span><span class="nt">&gt;</span>@error.message<span class="nt">&lt;/div&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>      }
</span><span class='line'>      @input(registrationForm(&quot;name&quot;), &quot;Username&quot;)
</span><span class='line'>      @input(registrationForm(&quot;password&quot;), &quot;Password&quot;, &#39;password)
</span><span class='line'>      @input(registrationForm(&quot;confirm&quot;), &quot;Confirm Password&quot;, &#39;password)
</span><span class='line'>      @input(registrationForm(&quot;realName&quot;), &quot;Real Name&quot;)
</span><span class='line'>    <span class="nt">&lt;/fieldset&gt;</span>
</span><span class='line'>    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">class=</span><span class="s">&quot;btn&quot;</span> <span class="na">value=</span><span class="s">&quot;Register&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>  }
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>


<p>You can see from the source there that I&#8217;ve crafted my own helper function to keep things nice and DRY and avoid having to write out the twitter bootstrap required structure over and over.</p>

<h2>Running and Wrap Up</h2>

<p>Right about now the solution is done so with a simple <code>play run</code> you should be able to register and view current registrations.  Excellent.  If you want to skip everything and just get my code you can clone the <a href="https://github.com/kouphax/scala-sampleapp">Github Repo</a>.</p>

<p>OK so it&#8217;s not the most useful app in the world - that was never the intention.  But look at the code - it&#8217;s very terse and the time required to write this post was considerably more than the time required to implement the solution.  Joy!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[The Little Sacrifices]]></title>
    <link href="http://yobriefca.se/blog/2012/04/29/the-little-sacrifices/"/>
    <updated>2012-04-29T23:24:00+01:00</updated>
    <id>http://yobriefca.se/blog/2012/04/29/the-little-sacrifices</id>
    <content type="html"><![CDATA[<p>Late night ramblings&#8230;</p>

<p>Productivity can plateau very quickly - especially in a technical process.  No matter how good you get at the process or approach, if you keep doing the same thing you can only get so good at it or do it so fast.  It&#8217;s possible, however, by sacrificing some of your precious time to go beyond that plateau.  There are things we, the developers, do as part of our development process that are so small and insignificant that we do them without thinking</p>

<ul>
<li>Clearing down the values in LocalStorage when debugging a web app</li>
<li>Copying assets from one folder to another (aka the macgyver deploy)</li>
<li>Navigating to <code>http://localhost:8000</code> or <code>9000</code> or some other port</li>
<li>Typing <code>rake generate preview</code> into the terminal about 20 times an hour</li>
<li>These are but a few things I&#8217;ve had to consider today alone</li>
</ul>


<p>Generally these things are so small we&#8217;d just do them by hand, right?  But if you take the time to automate these processes or even just refine them in some way it can do wonders for you productivity going forward.</p>

<p>For example the clearing of LocalStorage in Chrome - spent a few minutes writing a bookmarklet that you can execute with 1 click.  The macgyver deploy?  Write a rake/make/jake/psake/cake task for it.  Better yet use <a href="https://github.com/guard/guard">Guard</a> or <a href="https://github.com/mynyml/watchr">Watchr</a> and perform the deploy on save!  Navigatin to various different localhost ports?  Try my <a href="http://yobriefca.se/blog/2012/04/03/alfred-hack-for-web-developers/">alfred script</a> to minimise the keystrokes. <code>rake generate preview</code> - alias that bad boy to <code>rgp</code>!  Save yourself those extra keystrokes - you might need them later.</p>

<p>Listen - specifics aren&#8217;t important here.  You&#8217;ll have your own small repetitive tasks and you&#8217;ll be able to find your own ways to automate, improve or refine them - but this is the point.  You probably don&#8217;t.  At least not as often as you should.  Losing a second here and there on one task means very little in the small.  In the large, across many of these tasks, well thats a different story.  It&#8217;s hard to justify spending 10 or 20 minutes on something to automate a task that takes 5 seconds to run but even if the time doesn&#8217;t repay for a while then the fact you have less of a cognitive shift between your primary task and this secondary one should allow you stay in the highly effective, productive mindset to get the job done.</p>

<p>So give it a go, even as a thought experiment - think about the habitual development tasks you do and how you could automate them - you could well suprise yourself (like I have been recently).</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Strapping Young Lad v0.1.2 Released]]></title>
    <link href="http://yobriefca.se/blog/2012/04/20/strapping-young-lad-v0-dot-1-2-released/"/>
    <updated>2012-04-20T21:36:00+01:00</updated>
    <id>http://yobriefca.se/blog/2012/04/20/strapping-young-lad-v0-dot-1-2-released</id>
    <content type="html"><![CDATA[<p>I have just released version 0.1.2 of <a href="https://github.com/kouphax/strapping-young-lad">Strapping Young Lad</a>.  Now we are getting to something that works a bit better across different platforms (now I just have to prove it to you).  This release sees the inclusion of multiple token replacement.  For example if I create a <code>.ladconfig</code> in the source repo with an array of tokens</p>

<pre><code>token: ['__NAME__', '__NAMESPACE__', '__AUTHOR__']
</code></pre>

<p>The user will be prompted to specify the values for these tokens before the engine goes off and does the replacement.  The <code>__NAME__</code> token is a bit special - you still need to specify the project name as part of the command line call so if SYL come across this token in the the list of configured tokens it will allow you to default that value without having to type it again, e.g.</p>

<pre><code>lad git@github.com:strapping-young-lad/Loam.git laddy

  Cloning git repository                OK
  Loading configuration                 OK
  Parsing tokens and stuff              
    name (laddy): 
    namespace: test.lad
    author: kouphax
                                        OK
  Processing files                      OK
  Processing directories                OK
  Moving project files                  OK

  Done processing 137 file(s)
  Done processing 22 directories(s)
</code></pre>

<p>Notice I didn&#8217;t need to specify the name of the project again and then I was prompted for the second and third token values.  Simple stuff.</p>

<h2>Next up</h2>

<p>So there are a few outstanding efforts to go in now.  Namely push some more templates into the SYL repo and spin up a site that lets you search said templates and document all the little features of SYL.  They will come in time.</p>

<p>This is the life!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Infoshare 2012 Talk]]></title>
    <link href="http://yobriefca.se/blog/2012/04/20/infoshare-2012-talk/"/>
    <updated>2012-04-20T14:52:00+01:00</updated>
    <id>http://yobriefca.se/blog/2012/04/20/infoshare-2012-talk</id>
    <content type="html"><![CDATA[<h2>Slides</h2>

<script async class="speakerdeck-embed" data-id="4f911c9791b203001f00cc2b" data-ratio="1.3333333333333333" src="http://yobriefca.se//speakerdeck.com/assets/embed.js"></script>




<iframe src="http://player.vimeo.com/video/41132110?title=0&amp;byline=0&amp;portrait=0" width="500" height="275" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>


<h2>Resources</h2>

<p>I mentioned a lot of technologies during my talk so here are the ones I mentioned</p>

<h3>Web Frameworks</h3>

<ul>
<li><a href="http://jquerymobile.com/">jQuery Mobile</a></li>
<li><a href="http://www.sencha.com/products/touch">Sencha Touch</a></li>
</ul>


<h3>Design</h3>

<ul>
<li><a href="http://codiqa.com/">Codiqa</a></li>
<li><a href="http://www.sencha.com/products/architect/">Sencha Architect 2</a></li>
</ul>


<h3>Web Containers</h3>

<ul>
<li><a href="http://phonegap.com/">Phonegap</a></li>
<li><a href="http://incubator.apache.org/cordova/">Cordova</a></li>
</ul>


<h3>Cross Platform</h3>

<ul>
<li><a href="http://xamarin.com/monotouch">Monotouch</a></li>
<li><a href="http://xamarin.com/monoforandroid">Monodroid</a></li>
<li><a href="http://www.anscamobile.com/corona/">Corona</a></li>
<li><a href="https://build.phonegap.com/">Phonegap:Build</a></li>
<li><a href="http://www.appcelerator.com/platform/titanium-sdk">Titanium</a></li>
</ul>


<h3>Server Platforms</h3>

<ul>
<li><a href="https://parse.com/">Parse</a></li>
<li><a href="http://www.kinvey.com/">Kinvey</a></li>
</ul>


<h3>Cloud Services</h3>

<ul>
<li><a href="http://www.flurry.com/">Flurry</a></li>
<li><a href="http://urbanairship.com/">Urban  Airship</a></li>
</ul>


<h3>Testing &amp; Debugging</h3>

<ul>
<li><a href="http://pivotal.github.com/jasmine/">Jasmine</a></li>
<li><a href="https://www.lesspainful.com/">Less Painful</a></li>
<li><a href="http://www.testingwithfrank.com/">Frank</a></li>
<li><a href="http://people.apache.org/~pmuellr/weinre/">Weinre</a></li>
</ul>


<h3>Beta Testing</h3>

<ul>
<li><a href="https://testflightapp.com/">Testflight</a></li>
<li><a href="http://www.hockeyapp.net/">Hockey</a></li>
</ul>


<h2>Comments</h2>

<p>So how did it go?  From my perspective it could have been better - I&#8217;m not sure why started &#8220;ummmmming&#8221; all the time - I had plenty to say (and I think I talked too fast as well).  I just started in a semi-flustered state for reasons unknown.  I seen a few decent comments on twitter so I guess it was fairly well received thats what matters.  If anyone has any other observations, no matter how harsh, let me know.</p>

<p>One more note - Gdasnk is awesome - the technical people are so engaged and enthusiastic, the place itself is really interesting and I managed try my new favourite shot - <a href="http://www.drinksmixer.com/drink10324.html">Mad Dog</a>.  Thanks for the opportunity Gdasnk and Infoshare.  Hopefully I can back here and spend more time in the city soon.</p>

<p>Na zdrowie</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Strapping Young Lad - Project Template Token Replacer and Bootstrapper]]></title>
    <link href="http://yobriefca.se/blog/2012/04/17/strapping-young-lad-project-template-token-replacer-and-bootstrapper/"/>
    <updated>2012-04-17T22:08:00+01:00</updated>
    <id>http://yobriefca.se/blog/2012/04/17/strapping-young-lad-project-template-token-replacer-and-bootstrapper</id>
    <content type="html"><![CDATA[<p>Today I have released the super simple, rough-as-hell, barely <a href="http://en.wikipedia.org/wiki/Minimum_viable_product">MVP</a> <a href="https://rubygems.org/gems/lad">Strapping Young Lad</a>(<a href="https://github.com/kouphax/strapping-young-lad">Source</a>).  It&#8217;s fulfils a need I keep having but never really fixing.</p>

<h2>Evelvator Pitch</h2>

<p>SYL, or lad for short, will take a git repo, clone it and replace a bunch of tokens in it with the values you&#8217;ve supplied.</p>

<h2>Say Wha?</h2>

<p>This means you can create a bunch of base solution/project types for any language and SYL will simply do some basic file/folder renaming and file content replacing for a given token.  For example doing the following,</p>

<pre><code>lad /path/to/git/repo MyNewProject
</code></pre>

<p>Will do the following things,</p>

<ol>
<li>Clone the repo at <code>path/to/git/repo</code> into a temporary folder</li>
<li>Remove the <code>.git</code> folder from the repo</li>
<li>Check for the existence of a <code>.ladconfig</code> in the freshly cloned repo</li>
<li>If one exists it loads the config setting</li>
<li>Otherwise it falls back to the defaults</li>
<li>Replace all instances of the configured token (eg. <code>__NAME__</code>) in all files, directories and file contents with the project name (in our case <code>MyNewProject</code>)</li>
<li>Copy the new folder over to your current working directory (<code>./MyNewProject</code>)</li>
</ol>


<p>What this allows you to do is have a standard project template for pretty much anything (.NET, Ruby, Scala - listen I mean anything - if it a collection of folders and files in a git repo then you set) and create a new instance with a few keystrokes - saving you time and potential RSI.</p>

<p>SYL was inspired by <a href="https://github.com/chucknorris/warmup">WarmuP</a> which is itself a gem but it requires you to be running .NET which for a lot of my requirement isn&#8217;t going to cut it.</p>

<p>If you want to see what a typical template project looks like try <a href="https://github.com/amirrajan/Loam">Amir&#8217;s Loam repo</a>.  This is a WarmuP project but works just fine.  With SYL you can create a <code>.ladconfig</code> file to override some of the conventions - get the source README linked above.</p>

<h2>Whats Next</h2>

<p>Yep it&#8217;s pretty damn basic right now but it satifies most of my needs right now.  There are a few things I want to add for myself but I didn&#8217;t release this for ME, I am pretty sure this will be of use to someone in some community in some shape or form.  With that in mind here are some features I think would take this to the next level,</p>

<ol>
<li>Specifiying multiple tokens e.g. <code>__NAME__</code> and <code>__NAMESPACE__</code> and <code>__YEAR__</code> etc. etc.</li>
<li>Post processing actions (e.g. <code>bundle install</code> or <code>npm install</code> or <code>sbt compile</code> or something like that)</li>
<li>A catalog - I have a <a href="https://github.com/strapping-young-lad">github organisation</a> with no repos setup right now but this would be a brilliant place to hold a load of templates compatible with SYL, don&#8217;t ya think?  Then I could roll a site like rubygems or npmjs.org and make the projects searchable etc.  If you build it, they will come.  Maybe, who knows.</li>
</ol>


<p>So if you like it - HIGHFIVE - if not - it&#8217;s all good.  Now go break it and criticise me.</p>

<blockquote><p>So we&#8217;ll criticise him, because he can take it&#8230;. [The Dark Knight, Approx.]</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Scala - A Tragedy in Two Parts - Part 1]]></title>
    <link href="http://yobriefca.se/blog/2012/04/13/scala-a-tragedy-in-two-parts-part-1/"/>
    <updated>2012-04-13T09:06:00+01:00</updated>
    <id>http://yobriefca.se/blog/2012/04/13/scala-a-tragedy-in-two-parts-part-1</id>
    <content type="html"><![CDATA[<p>The tragedy being we don&#8217;t use it all the time!</p>

<p>This presentation is the first part in the 2 part series &#8220;Scala - A Tragedy in Two Parts&#8221;.  In this presentation I go fast and dive into a range of Scala code snippets pointing out some of the weird and wonderful features of the language.</p>

<h2>Recorded Session</h2>

<iframe src="http://player.vimeo.com/video/40255430?title=0&amp;byline=0&amp;portrait=0" width="500" height="375" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>


<p> <p><a href="http://vimeo.com/40255430">Scala - A Tragedy in Two Parts - Part 1 - The Language</a> from <a href="http://vimeo.com/kouphax">James Hughes</a> on <a href="http://vimeo.com">Vimeo</a>.</p></p>

<h2>Slides</h2>

<script async class="speakerdeck-embed" data-id="4f86b1fcd1325b0022019eea" data-ratio="1.3333333333333333" src="http://yobriefca.se//speakerdeck.com/assets/embed.js"></script>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Alfred Hack for Web Developers]]></title>
    <link href="http://yobriefca.se/blog/2012/04/03/alfred-hack-for-web-developers/"/>
    <updated>2012-04-03T17:24:00+01:00</updated>
    <id>http://yobriefca.se/blog/2012/04/03/alfred-hack-for-web-developers</id>
    <content type="html"><![CDATA[<p>I&#8217;ve been a fan of <a href="http://www.alfredapp.com/">Alfred</a> for some time and use it to make pretty much everything a keystroke away.  I&#8217;ve thrown a very small little extension that reduces the time to jump between console and newly started web app.  Generally during development we need to run our app jump to <code>localhost:PORT</code> and make sure it&#8217;s working.  If, like me, you have a lot of different apps and platforms (Scala, Jekyll, Rails, Sinatra, Express to name a few) then <code>PORT</code> becomes the one thing you always need to type and the browsers auto predict is generally not that helpful in this situation.</p>

<p>Alfred to the rescue here, just create a script as shown below and then running alfred and typing <code>l 9000</code> you can launch your default browser at <code>http://localhost:9000</code>.  Very simple but saves me heaps of time at the minute.</p>

<p><img class="borderless" src="http://yobriefca.se/images/blog/alfredscript.png"></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rails is not a gateway drug]]></title>
    <link href="http://yobriefca.se/blog/2012/04/03/rails-is-not-a-gateway-drug/"/>
    <updated>2012-04-03T13:30:00+01:00</updated>
    <id>http://yobriefca.se/blog/2012/04/03/rails-is-not-a-gateway-drug</id>
    <content type="html"><![CDATA[<blockquote><p>WARNING!!! - a negative opinion on Rails lies ahead.  Everything here needs to be taken with an <strong>IMHO</strong> and, if you feel so inclined, tell me to go mind my own business.</p></blockquote>

<p>I know I&#8217;m stepping into very dangerous territory here but I&#8217;ve come to the very solid conclusion that <a href="http://rubyonrails.org/">Rails</a>, Ruby&#8217;s heavily opinionated web framework, is not the gateway drug people claim.  I&#8217;ve heard the claims that if you give <a href="http://rubyonrails.org/">Rails</a> a try, coming from some other web stack on any other language, you&#8217;ll fall in love with Ruby and Rails and write a big long blog post about how you are leaving .NET (or Java or whatever) behind.  I really dont get it&#8230;. the only feeling that Rails leaves me with - having been using it in anger for about a month now - is frustration.  But before you drive rusty nails into my hands and feet let me at least explain where I am coming from.</p>

<h2>Previous attempts</h2>

<p>I&#8217;ve been binging on Ruby for the last few months but this hasn&#8217;t been my first time - it&#8217;s been my only successful time but certianly not my first.  A year previous I had given Ruby/Rails a shot and it never stuck (in fact not once but at least twice).  Coming from a predominantly .NET/ASP.NET MVC background I decided the best approach would be to cut my teeth on a medium sized web based project and therefore jumped right into Rails.  It only took a short time before the whole effort felt like a slog full of weird semi-magic behaviour.  I gave up.</p>

<h2>Doing things differently</h2>

<p>This time around I decided to do things a little differently - rather than run with a web project I just tinkered with the language and eventually tried porting a <a href="http://yobriefca.se/blog/2012/03/12/sentamentalizer/">.NET project over to Ruby</a>.  Fair bit of Ruby code and a small <a href="http://sinatrarb.com">sinatra</a> app later - it clicked.  I got the whole Ruby love affair, it was lovely and I was three lines into my <em>&#8220;F**k you .NET, you&#8217;re worse than Java and I hate you and you smell&#8221;</em> blog post (not factual!!) when I realised I needed to give Ruby more time to bed in and, out of fairness, I had to at least experience Rails.</p>

<h2>Present Day</h2>

<p>And with that I discovered that Rails had been my problem.  I find it incredibly frustrating.  I don&#8217;t want to dive into bashing Rails, thats not my intent, - I&#8217;m sure people find it really productive - but it&#8217;s not for me.  So here is a very high level executive summary of the problems I&#8217;ve had with Rails</p>

<p><strong>The Command Line Interface</strong></p>

<p>The CLI stuff has just a little bit too many features and options that make it a difficult thing to approach without extensive research.  When I watched some of the <a href="http://railscasts.com/">Railscasts</a> I found myself going &#8220;wait, HOW did he do that?&#8221; more than once.  Choice is good but surely Rails is supposed to be easy for the beginner?  Yet I feel the default options are not the ones I would have picked.  You know what - I want to be hand-held once in a while, I&#8217;m proud to admit that.</p>

<p><strong>Too Much Magic</strong></p>

<p>Rails is very heavily convention based but often there is simply too much convention and I&#8217;ve been left baffled a few times.  Some of the convention is well documented and some of it less so.  When a convention is not obvious it becomes magic and it really feels Rails has a lot of &#8220;magic&#8221;.  Thats not something I want.  To be honest I&#8217;d rather write the same 2/3 lines of boilerplate if it meant that, to a new developer, they could understand the convention better.  Take this very trivial example,</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">HomeController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">index</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>And the same in ASP.NET MVC</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">HomeController</span><span class="p">:</span> <span class="n">Controller</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">public</span> <span class="n">ActionResult</span> <span class="nf">Index</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="nf">View</span><span class="p">();</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>To me that one line <code>return View()</code> tell me that this action will return a View, and now I can infer the convention of <code>home/index.cshtml</code> that wee bit easier.  When you start adding in more conventions, a little bit of extra code makes all the difference.  Conventions don&#8217;t scale unless clearly marked IMHO.</p>

<p><strong>Bloatyness</strong></p>

<p>When you generate scaffold in a Rails app, as a typical new developer would, you end up with a awful lot of files.  If I generate a new entity for example this is what I am greeted with,</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>→ rails generate scaffold MyEntity name:String age:Int                         !6580
</span><span class='line'>      invoke  active_record
</span><span class='line'>      create    db/migrate/20120403130542_create_my_entities.rb
</span><span class='line'>      create    app/models/my_entity.rb
</span><span class='line'>      invoke    test_unit
</span><span class='line'>      create      <span class="nb">test</span>/unit/my_entity_test.rb
</span><span class='line'>      create      <span class="nb">test</span>/fixtures/my_entities.yml
</span><span class='line'>       route  resources :my_entities
</span><span class='line'>      invoke  scaffold_controller
</span><span class='line'>      create    app/controllers/my_entities_controller.rb
</span><span class='line'>      invoke    slim
</span><span class='line'>      create      app/views/my_entities
</span><span class='line'>      create      app/views/my_entities/index.html.slim
</span><span class='line'>      create      app/views/my_entities/edit.html.slim
</span><span class='line'>      create      app/views/my_entities/show.html.slim
</span><span class='line'>      create      app/views/my_entities/new.html.slim
</span><span class='line'>      create      app/views/my_entities/_form.html.slim
</span><span class='line'>      invoke    test_unit
</span><span class='line'>      create      <span class="nb">test</span>/functional/my_entities_controller_test.rb
</span><span class='line'>      invoke    helper
</span><span class='line'>      create      app/helpers/my_entities_helper.rb
</span><span class='line'>      invoke      test_unit
</span><span class='line'>      create        <span class="nb">test</span>/unit/helpers/my_entities_helper_test.rb
</span><span class='line'>      invoke  assets
</span><span class='line'>      invoke    coffee
</span><span class='line'>      create      app/assets/javascripts/my_entities.js.coffee
</span><span class='line'>      invoke    scss
</span><span class='line'>      create      app/assets/stylesheets/my_entities.css.scss
</span><span class='line'>      invoke  scss
</span><span class='line'>      create    app/assets/stylesheets/scaffolds.css.scss
</span></code></pre></td></tr></table></div></figure>


<p>Don&#8217;t get me wrong - it&#8217;s nice to be given all these things for free, but it&#8217;s ultimatley stuff I end up ripping out anyway.  In .NET there is a running joke that the &#8220;Empty ASP.NET MVC Project&#8221; Template is anything but.  To me this is the same issue except it&#8217;s something that I&#8217;d have to clean up everytime I use the <code>generate scaffold</code> command.  This seems worse to me.</p>

<h2>Current Thoughts</h2>

<p>I&#8217;m not sure were Rails is supposed to stand.  I hear it&#8217;s great for beginners or for big sites but I couldn&#8217;t recommend it for either right now.  I realise I should really give it more time before rejecting it entirely but I feel that would be more time wasted.  Rails doesn&#8217;t make me more productive, at least not right now&#8230; perhaps once I repeat the same steps over and over and they become natural I&#8217;ll see a greater boost in productivity (Ruby on the other hand felt natural and great right away).  Perhaps if I shun the generators and roll my own stuff then I&#8217;ll be more productive - but then why not use another framework that comes without all the gubbins I don&#8217;t need?  Sinatra is nice and simple and I can build upon it rather than breakling it apart.  <a href="http://ramaze.net/">Ramaze</a> seems like a great &#8220;next step up&#8221; from Sinatra but without as much (perceived) bloat as Rails.  I&#8217;ve also followed the recent <a href="http://www.kickstarter.com/projects/1397300529/railsapp">Kickstarter debacle</a> from Yehuda - and I agree with him and his mission.</p>

<p>So what I am trying to say is - if you are a person wanting to give the Ruby world a fair shake - DONT start on Rails.  Start simpler and later, if you want, when you&#8217;ve been throughly sold on the Ruby way, try Rails to see what you think.  Start with Ruby, port some code, write a Sinatra app, watch the <a href="http://railscasts.com/">Railscasts</a> as they are amazing then consider immersing yourself in Rails.</p>

<h2>Educate Me</h2>

<p>Finally - educate me.  I&#8217;m not some sort of oracle proclaiming the death of a framework that thousands of people love.  I&#8217;m not going to make anyone stop and think &#8220;I&#8217;ve been doing wrong all my life - screw Rails&#8221;.  If I&#8217;m wrong - tell me.  If you think I need to give Rails another look - tell me why, tell me how.  If you care - show me what I&#8217;m missing.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Setting the Selected Option in a Select with Selenium in Scala]]></title>
    <link href="http://yobriefca.se/blog/2012/04/02/setting-the-selected-option-in-a-select-with-selenium-in-scala/"/>
    <updated>2012-04-02T15:21:00+01:00</updated>
    <id>http://yobriefca.se/blog/2012/04/02/setting-the-selected-option-in-a-select-with-selenium-in-scala</id>
    <content type="html"><![CDATA[<p>Almost a perfect bit of alliteration there in that title - right?  Anyway I&#8217;ve been doing a bit of work with bare-metal Selenium stuff in Scala recently and one of the things that kept me stumped for a while was setting the selected <code>option</code> for a particular <code>select</code> element.</p>

<p>I looked around the interwebs and didn&#8217;t really find anything - now I&#8217;m not saying it isn&#8217;t out there, I am certain it is, but I couldn&#8217;t find it.  So I decided to document how I did it in case any lone sole is stuck in a similar situation&#8230;</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">driver</span><span class="o">.</span><span class="n">findElement</span><span class="o">(</span><span class="nc">By</span><span class="o">.</span><span class="n">id</span><span class="o">(</span><span class="s">&quot;year&quot;</span><span class="o">)).</span>
</span><span class='line'>  <span class="n">findElements</span><span class="o">(</span><span class="nc">By</span><span class="o">.</span><span class="n">tagName</span><span class="o">(</span><span class="s">&quot;option&quot;</span><span class="o">)).</span>
</span><span class='line'>  <span class="n">get</span><span class="o">(</span><span class="mi">2</span><span class="o">).</span>
</span><span class='line'>  <span class="n">setSelected</span><span class="o">()</span>
</span></code></pre></td></tr></table></div></figure>


<p>So here I am simply finding the second <code>option</code> of the &#8220;year&#8221; <code>select</code> element and setting it selected.  I know it looks obvious now but trust me I was scratching my head for an age on this one.</p>

<p>I hope it helps some one, eventually :)</p>

<div style="text-align:center">
<img src="http://imgs.xkcd.com/comics/wisdom_of_the_ancients.png">
</div>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Done Spoked at DevWeek]]></title>
    <link href="http://yobriefca.se/blog/2012/03/28/done-spoked-at-devweek/"/>
    <updated>2012-03-28T13:19:00+01:00</updated>
    <id>http://yobriefca.se/blog/2012/03/28/done-spoked-at-devweek</id>
    <content type="html"><![CDATA[<p>So I made it through my talk at DevWeek which might sound a little odd but it took a whole bottle of cough syrup to do it.  Not having been sick for most of the winter my body decided a day before DevWeek to go into shut down.  I spent Tuesday in bed with very little voice.  Thankfully the head colds hold on my vocal chords relented this morning and I think I managed to project as best I could.</p>

<p>So initial thoughts of how it went?  I honestly think I&#8217;m getting better at this presenting thing so that must be a good thing, unless I was TERRIBLE before.  The 2 main annoyances that have been raised thus far have been</p>

<h2>1. Too Short</h2>

<p>I did my usual &#8220;talk really fast and finish earlier than planned&#8221; thing I sometimes do. But there was plenty of discussion afterwards which I tought was interesting.  FWIW when I present this to myself it takes longer.  My internal monologue must be slower than the way I speak.  Apologies to anyone that felt it was &#8220;too short&#8221;.</p>

<h2>2. Not enough Visual Studio</h2>

<p>I opted to play it safe end embed code into my slides rather than code live - I didn&#8217;t go unnoticed and I had a few comments that &#8220;moar codez&#8221; would have been good.  Totally agree.</p>

<h2>Other Stuff</h2>

<p>I opted to change my slide deck between submitting them for print and presenting.  I did it out of desire to devlier a better, more structured, talk (my first set being quite short as I was going for a &#8220;free-form&#8221; type of presentation).  Probably not the most professional approach to do this but at least I can say my heart was in the right place :)  Here are offending articles BTW</p>

<div style="max-width:500px;margin:0 auto;">
    <script src="http://speakerdeck.com/embed/4f719e7aca692c002101c187.js"></script>
</div>


<p>Code that was presented is available, as always, in/on my <a href="https://github.com/kouphax/bddindotnet-code">Github Repo</a>.  Thanks to all who attended and any other feedback you have throw it my way so I can get better at this talking malarky.</p>

<p>Also thanks to the folks at DevWeek for the opportunity - hopefully you&#8217;ll have me back at some point.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[rbenv and CodeRunner]]></title>
    <link href="http://yobriefca.se/blog/2012/03/22/rbenv-and-coderunner/"/>
    <updated>2012-03-22T10:56:00+00:00</updated>
    <id>http://yobriefca.se/blog/2012/03/22/rbenv-and-coderunner</id>
    <content type="html"><![CDATA[<p>You know <a href="http://krillapps.com/coderunner/">CodeRunner</a> right?  If not maybe you should go check it out.  It&#8217;s and aptly named little tool for running code snippets in various languages much like what <a href="http://www.linqpad.net/">LinqPad</a> does for the .NET folks.  I&#8217;ve been using it extensivley recently to test out little Ruby and Scala snippets.  Thing is though - I hit a snag.  By default CodeRunner will run the system ruby executable (1.8 in OSX) and I generally use <a href="https://github.com/sstephenson/rbenv">rbenv</a> along with version 1.9.whatever so some of my scripts started behaving a little&#8230; odd.</p>

<p>But hey it&#8217;s an easy fix,</p>

<ul>
<li>Open your CodeRunner Preferences</li>
<li>Select the Languages tab</li>
<li>Select Ruby in the Language List</li>
<li>Change the run command from <code>ruby $filename</code> to <code>~/.rbenv/shims/ruby $filename</code></li>
</ul>


<h2>Before</h2>

<p><img class="borderless" src="http://yobriefca.se/images/blog/coderunnerruby/before.png"></p>

<h2>After</h2>

<p><img class="borderless" src="http://yobriefca.se/images/blog/coderunnerruby/after.png"></p>

<p>Blam - global rbenv version is now the goto version for CodeRunner.  OK so it won&#8217;t work with rbenv locals but I am sure you can tweak it to make it work (I haven&#8217;t needed it so never looked).</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Slim Generator for Octopress]]></title>
    <link href="http://yobriefca.se/blog/2012/03/22/slim-generator-for-octopress/"/>
    <updated>2012-03-22T08:21:00+00:00</updated>
    <id>http://yobriefca.se/blog/2012/03/22/slim-generator-for-octopress</id>
    <content type="html"><![CDATA[<p>So I&#8217;ve been overhauling my web site, which is based on <a href="http://octopress.org">Octopress</a>, lately and have had to jump into the working of Octopress/Jekyll.  It&#8217;s obviously not the most complicated system in the world but hey it was new to me.</p>

<p>Anyway my current setup features a lot of html based pages (the default markdown approach didn&#8217;t fit due to styling needs) and it was getting rather noisy.  So I wrote, as there didn&#8217;t seem to be one out there, a <a href="http://slim-lang.com/">Slim</a> generator.  And here it is,  step back it&#8217;s VERY COMPLEX&#8230;.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">module</span> <span class="nn">Jekyll</span>
</span><span class='line'>  <span class="nb">require</span> <span class="s1">&#39;slim&#39;</span>
</span><span class='line'>  <span class="k">class</span> <span class="nc">SlimConverter</span> <span class="o">&lt;</span> <span class="no">Converter</span>
</span><span class='line'>    <span class="n">safe</span> <span class="kp">true</span>
</span><span class='line'>    <span class="n">priority</span> <span class="ss">:low</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nf">matches</span><span class="p">(</span><span class="n">ext</span><span class="p">)</span>
</span><span class='line'>      <span class="n">ext</span> <span class="o">=~</span> <span class="sr">/slim/i</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nf">output_ext</span><span class="p">(</span><span class="n">ext</span><span class="p">)</span>
</span><span class='line'>      <span class="s2">&quot;.html&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nf">convert</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</span><span class='line'>      <span class="k">begin</span>
</span><span class='line'>        <span class="no">Slim</span><span class="o">::</span><span class="no">Template</span><span class="o">.</span><span class="n">new</span> <span class="p">{</span> <span class="n">content</span> <span class="p">}</span><span class="o">.</span><span class="n">render</span>
</span><span class='line'>      <span class="k">rescue</span> <span class="no">StandardError</span> <span class="o">=&gt;</span> <span class="n">e</span>
</span><span class='line'>        <span class="nb">puts</span> <span class="s2">&quot;!!! SLIM Error: &quot;</span> <span class="o">+</span> <span class="n">e</span><span class="o">.</span><span class="n">message</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Just drop this file (call it anything) into your plugins folder in Jekyll/Octopress and any file with the <code>slim</code> extension will use this converter to generate HTML.  No more noisy HTML for me!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tinkering with Spark: A Micro Web Framework for Java]]></title>
    <link href="http://yobriefca.se/blog/2012/03/20/tinkering-with-spark-a-micro-web-framework-for-java/"/>
    <updated>2012-03-20T21:37:00+00:00</updated>
    <id>http://yobriefca.se/blog/2012/03/20/tinkering-with-spark-a-micro-web-framework-for-java</id>
    <content type="html"><![CDATA[<div style="text-align:center;margin-bottom:20px;">
<img src="http://yobriefca.se/images/blog/spark_logo_blue.png" style="border:none; box-shadow:none; -webkit-box-shadow:none;" />
</div>


<p>You can&#8217;t call yourself a language these days without having your own <a href="http://sinatrarb.com">Sinatra</a> clone.  Not even, it seems, if you are Java.  I know - it sounds odd that Java, the language that turns XML into stacktraces, has a micro web framework of it&#8217;s own - <a href="http://sparkjava.com">Spark</a>.  I&#8217;m well aware as of JRE 1.6 has a built in <code>HttpServer</code> class but there is such as thing as <strong>too close</strong> to the metal :)  Also Sparks logo is fairly epic.</p>

<p><a href="http://sparkjava.com">Spark</a>&#8217;s site has a great little piece about the &#8220;why&#8221; and that is what stuck with me.  Especially this bit,</p>

<blockquote><p>Its intention is to be used by Java developers that want or are required to develop in pure Java.</p></blockquote>

<p>I know a few people who are &#8220;required&#8221; to develop in pure Java and anything that might make their lives easier would be welcomed.  Being completely out of loop with Java since before Maven made an appearance I had a lot of catching up to do just to get the project running.  In fact I went with SBT as it made things a lot easier for me and my mavenless brain.  I did have to tinker with the dependencies in the <code>ivy2</code> directory due to a <a href="https://github.com/perwendel/spark/pull/15">known issue</a> but if I can do it anyone interested in this can to - if not give me a shout.</p>

<h2>App.java</h2>

<p>A Spark app simply uses <code>main</code> as an entry point.  Within the method you can call certain methods to set up routes and filters and whatnots that your app will respond to.  For example</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">import</span> <span class="nn">static</span> <span class="n">spark</span><span class="o">.</span><span class="na">Spark</span><span class="o">.*;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">spark.*</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">App</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span>  <span class="o">{</span>
</span></code></pre></td></tr></table></div></figure>


<p>Standard Java stuff here, bringing in some of the necessary <code>spark</code> resources,</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'>    <span class="n">before</span><span class="o">(</span><span class="k">new</span> <span class="n">Filter</span><span class="o">(</span><span class="s">&quot;/&quot;</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="nd">@Override</span>
</span><span class='line'>      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">Request</span> <span class="n">request</span><span class="o">,</span> <span class="n">Response</span> <span class="n">response</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="kt">boolean</span> <span class="n">authenticated</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">queryParams</span><span class="o">(</span><span class="s">&quot;password&quot;</span><span class="o">).</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;secret&quot;</span><span class="o">);</span>
</span><span class='line'>        <span class="k">if</span><span class="o">(!</span><span class="n">authenticated</span><span class="o">){</span>
</span><span class='line'>          <span class="n">halt</span><span class="o">(</span><span class="mi">403</span><span class="o">,</span> <span class="s">&quot;Incorrect password, hacker alert, hacker alert!!!!&quot;</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>    <span class="o">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>Spark allows us to define filters that run before and after requests.  It is also possbile to restrict them to certain routes or simply catch all routes - for example my filter only matches the &#8220;/&#8221; route.  A couple of other things are worth mentioning here,</p>

<ol>
<li>The <code>Request</code> object gives you access to many things you would expect i.e. the query parameters.  It gives you so much more than this but I&#8217;ll leave the <a href="http://www.sparkjava.com/readme.html#title2">docs</a> to describe this.</li>
<li>Just like in Sinatra it is possible to simply <code>halt</code> the request chain at any time.  Here I am halting execution unless the request conforms to my very strict and highly secure authentication scheme.</li>
</ol>


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'>    <span class="n">get</span><span class="o">(</span><span class="k">new</span> <span class="n">Route</span><span class="o">(</span><span class="s">&quot;/&quot;</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="nd">@Override</span>
</span><span class='line'>      <span class="kd">public</span> <span class="n">Object</span> <span class="nf">handle</span><span class="o">(</span><span class="n">Request</span> <span class="n">request</span><span class="o">,</span> <span class="n">Response</span> <span class="n">response</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// extract the name from the request</span>
</span><span class='line'>        <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">queryParams</span><span class="o">(</span><span class="s">&quot;name&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// set the response type</span>
</span><span class='line'>        <span class="n">response</span><span class="o">.</span><span class="na">type</span><span class="o">(</span><span class="s">&quot;text/html&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// return some html</span>
</span><span class='line'>        <span class="k">return</span> <span class="s">&quot;&quot;</span> <span class="o">+</span>
</span><span class='line'>          <span class="s">&quot;&lt;DOCTYPE html&gt;&quot;</span> <span class="o">+</span>
</span><span class='line'>          <span class="s">&quot;&lt;html&gt;&quot;</span> <span class="o">+</span>
</span><span class='line'>          <span class="s">&quot;  &lt;head&gt;&quot;</span> <span class="o">+</span>
</span><span class='line'>          <span class="s">&quot;  &lt;/head&gt;&quot;</span> <span class="o">+</span>
</span><span class='line'>          <span class="s">&quot;  &lt;body&gt;&quot;</span> <span class="o">+</span>
</span><span class='line'>          <span class="s">&quot;    &lt;h1&gt;Hello &quot;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s">&quot;, Spark here.  Howrya?&lt;/h1&gt;&quot;</span> <span class="o">+</span>
</span><span class='line'>          <span class="s">&quot;  &lt;/body&gt;&quot;</span> <span class="o">+</span>
</span><span class='line'>          <span class="s">&quot;&lt;/html&gt;&quot;</span><span class="o">;</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>    <span class="o">});</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Finally I am defining a route (&#8220;/&#8221;) that responds to the GET verb and introspects the query parameters returning a very complex view.  Routes can also be parameterized (<code>/user/:name</code> for example). Even given the slightly verbose nature of Java syntax this example seems clean enough (albeit a rather simple example).</p>

<h2>SBT Build File</h2>

<p>For the curious among you (you got this far so you must be slightly curious&#8230; and rather odd) the SBT file required to get this bad boy running is nice and simple,</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">resolvers</span> <span class="o">+=</span> <span class="s">&quot;Spark Repository&quot;</span> <span class="n">at</span> <span class="s">&quot;http://www.sparkjava.com/nexus/content/repositories/spark/&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">libraryDependencies</span> <span class="o">++=</span> <span class="nc">Seq</span><span class="o">(</span>
</span><span class='line'>  <span class="s">&quot;spark&quot;</span> <span class="o">%</span> <span class="s">&quot;spark&quot;</span>  <span class="o">%</span> <span class="s">&quot;0.9.9.3-SNAPSHOT&quot;</span> <span class="n">exclude</span><span class="o">(</span><span class="s">&quot;org.apache.commons&quot;</span><span class="o">,</span> <span class="s">&quot;commons-io&quot;</span><span class="o">)</span>
</span><span class='line'><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>A quick <code>sbt run</code> command and we are running a standalone Spark app (powered by an embedded Jetty server).  Aces.</p>

<h2>Mopping Up</h2>

<p>OK so thats the basics of the framework but then again there really isn&#8217;t much other stuff besides picking a port and redirecting.  This means there is some things still missing that would really make this framework really stand out,</p>

<ul>
<li>View rendering.  Even if it is just plain HTML it would be a big leap forward (turns out an <a href="https://github.com/perwendel/spark/issues/1">issue</a> is already open too).</li>
<li>Static Content.  Would be nice to define a rule for serving static content without having to define a route or filter manually</li>
<li>Session support.  Again an <a href="https://github.com/perwendel/spark/pull/12">issue and pull request</a> is already available for this.</li>
</ul>


<p>Good work <a href="https://github.com/perwendel/">perwendel</a> keep it up :)</p>

<p>As always my code samples are available on <a href="https://github.com/kouphax/spark-tinkering">Github</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Speaking at NDC Oslo]]></title>
    <link href="http://yobriefca.se/blog/2012/03/19/ndc-oslo/"/>
    <updated>2012-03-19T21:34:00+00:00</updated>
    <id>http://yobriefca.se/blog/2012/03/19/ndc-oslo</id>
    <content type="html"><![CDATA[<p><img src="http://yobriefca.se/images/blog/ndc.png" style="border:none; box-shadow:none; -webkit-box-shadow:none; width:100%;" /></p>

<p>Mike Cohn, Dan North, Robert C. Martin, Udi Dahan, Gojko Adzic, Billy Hollis, Laurent Bugnion, Venkat Subramaniam, Brad Wilson, Phil Haack, Rob Conery, Greg Young, Zach Holman&#8230;.. and then me.  So someone was drinking when deciding the line up for NDC Oslo right?</p>

<p>Seriously though I&#8217;ve been given one of the best opportunites of my career to talk alongside some of the shining lights of our industry at NDC Oslo so I better not drop the ball.  Thank you to whoever gave me the opportunity.  But hey if I mess up I&#8217;ve got another 2 shots at it&#8230; thats right I&#8217;m speaking not once, not twice but thrice.</p>

<ul>
<li><a href="http://ndcoslo.oktaset.com/t-4960">.NET On a Diet</a></li>
<li><a href="http://ndcoslo.oktaset.com/t-4961">MonoTouch - C# + iOS = Good Times</a></li>
<li><a href="http://ndcoslo.oktaset.com/t-4872">Mobile, How Do I Develop Thee? Let Me Count the Ways</a></li>
</ul>


<p>Still blown away by this, if you can&#8217;t tell - given the calibre of people talking this is going to be a highlight of the year for sure.  Also it couldn&#8217;t have come at a better time - there is so much I&#8217;ve wanted to say about things like the OSS world in .NET, Mono and mobile development. Now I&#8217;ve got the perfect opportunity.</p>

<p>Now whats this .NET thing I keep hearing about :)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[sentimentalizer: A Ruby port of Sentan]]></title>
    <link href="http://yobriefca.se/blog/2012/03/12/sentamentalizer/"/>
    <updated>2012-03-12T19:22:00+00:00</updated>
    <id>http://yobriefca.se/blog/2012/03/12/sentamentalizer</id>
    <content type="html"><![CDATA[<p>In a bid to be at least 1% less stupid I decided to jump into Ruby.  Properly this time, no tinkering with Rails or watching a few videos.  So the first thing I did was take <a href="https://twitter.com/#!/martinrue">@martinrue</a>&#8217;s <a href="https://github.com/martinrue/Sentan">Sentan</a> project, fork it, made it run on mono (just because), ported it over to Ruby and renamed it <a href="https://github.com/kouphax/sentimentalizer/">sentimentalizer</a> (but keeping all necessary attribution to Martins work in the README of course).<!-- more -->  I did this for two reasons,</p>

<ol>
<li>I wanted something fairly meaty to actually port over to Ruby in an effort to get a more-than-superficial feel for the language</li>
<li>I might have a need for such a service in an upcoming hackathon (though the original .NET version would have been fine too)</li>
</ol>


<p>This is in no way some sort of new project or intended for some production environment.</p>

<p>So what is it?  <a href="https://github.com/kouphax/sentimentalizer/">sentamentalizer</a> is a quick and dirty <a href="http://en.wikipedia.org/wiki/Sentiment_analysis">sentiment analysis</a> tool.  With it you can loosley class statements as either positive or negative (and get a breakdown of how that classification was derived).  You &#8220;train&#8221; it with datasets for both negative and positive control statements and then feed it sentences you want analysed.  At the minute the engine sits behind a super super super, did I say super already?, simple sinatra app that you submit statements to and it returns a simple JSON response with the sentiment result (negative, positive, neutral) and probability.  If you want to train the bitch you&#8217;ve got to change the <code>api.rb</code> file or update the files in the <code>data\positive</code> and <code>data\negative</code> folders.</p>

<p>Plans? Yeah I might poke around some more, make into more of a standalone learning service or something (again another feature I might need soon anyway).  But for now - feel free to review my shitey code Rubyists (I assume there are better ways to do things, standard appraoches that I&#8217;m not using etc.) and offer suggestions.</p>

<p>Once again thanks to <a href="https://twitter.com/#!/martinrue">@martinrue</a> for doing all the hard-work on <a href="https://github.com/martinrue/Sentan">Sentan</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tinkering with minion.js]]></title>
    <link href="http://yobriefca.se/blog/2012/03/08/tinkering-with-minion-dot-js/"/>
    <updated>2012-03-08T13:13:00+00:00</updated>
    <id>http://yobriefca.se/blog/2012/03/08/tinkering-with-minion-dot-js</id>
    <content type="html"><![CDATA[<p>Yay a technical post&#8230;</p>

<p><a href="https://github.com/gigafied/minion">minion.js</a> is a micro framework providing classical inheritance strategy for JavaScript plus many other goodies.  It can be used in both browsers and <a href="http://nodejs.org">node.js</a>.<!-- more -->  Now I don&#8217;t want to get caught up in any of this classical inheritance for JavaScript is an anti-pattern stuff so just take this framework for what it is - a decent way to define both client and server side models for you JavaScripts!</p>

<p>I&#8217;ve already said it has a host of goodies that can be useful for creating a nice flexible set of models and associated helpers.  This includes,</p>

<ul>
<li>Class and inheritance support</li>
<li>Modularity</li>
<li>A cross model pub/sub mechanism</li>
<li>Statics, Singletons, static methods and properties</li>
<li>Dependency management</li>
<li>Some other stuff I&#8217;ve yet to touch upon&#8230;</li>
</ul>


<p>The code will more or less speak for itself here so lets dive in (the full suite of tests and sample node.js/express implementation can be found on my <a href="https://github.com/kouphax/minion-tinkering">GitHub thingy</a>).</p>

<h2>Classes</h2>

<p>One of the first things I did was try out the whole inheritence thing.  I create a Fruit base class and provided a Strawberry implementation on top of it.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">minion</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;fruit&quot;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">Fruit</span><span class="o">:</span> <span class="nx">minion</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="s2">&quot;minion.Class&quot;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="nx">isInSeason</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">inSeason</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">})</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">minion</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;fruit&quot;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">Strawberry</span><span class="o">:</span> <span class="nx">minion</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="s2">&quot;fruit.Fruit&quot;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">inSeason</span><span class="o">:</span> <span class="kc">true</span>
</span><span class='line'>  <span class="p">})</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>Using the Strawberry class is pretty damn simple.  First thing you need to do is a one off simple configuration of minion,</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">minion</span><span class="p">.</span><span class="nx">configure</span><span class="p">({</span>
</span><span class='line'>  <span class="nx">classPath</span> <span class="o">:</span> <span class="s2">&quot;js&quot;</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>This just tells minions dependency manager where to start looking for your class implementations.  We can then start using the Strawberry class easily using minions <code>require</code> method</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">minion</span><span class="p">.</span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;fruit.Strawberry&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Strawberry</span><span class="p">){</span>
</span><span class='line'>  <span class="nx">expect</span><span class="p">(</span><span class="nx">Strawberry</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">be</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Static Objects</h2>

<p>Static objects are pre-initialised Singletons in minion.js and that makes a lot of sense.  I created a Grocer static by simply extending another minion type <code>Static</code>.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">minion</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;fruit&quot;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">Grocer</span><span class="o">:</span> <span class="nx">minion</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="s2">&quot;minion.Static&quot;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">stock</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s2">&quot;purchase&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">buy</span><span class="p">);</span>
</span><span class='line'>    <span class="p">},</span>
</span><span class='line'>
</span><span class='line'>    <span class="nx">sell</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">stock</span><span class="o">--</span>
</span><span class='line'>    <span class="p">},</span>
</span><span class='line'>
</span><span class='line'>    <span class="nx">buy</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">stock</span><span class="o">++</span>
</span><span class='line'>    <span class="p">},</span>
</span><span class='line'>
</span><span class='line'>    <span class="nx">checkLevels</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">stock</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">})</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>Pretty unsuprising but minion will new up a shared instance of this class the first time it is called.  You&#8217;ll see a little hint of the pub/sub mechanism in the <code>init</code> method as well so lets jump on that.</p>

<h2>Pub/Sub</h2>

<p>So minion has a nice little pub/sub mechanism built right into the classes as well.  So lets say a customer buys stuff from the grocer by publishing his/her request - sure beats just taking it without asking!!!</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">minion</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;fruit&quot;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">Customer</span><span class="o">:</span> <span class="nx">minion</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="s2">&quot;minion.Class&quot;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">buy</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">publish</span><span class="p">(</span><span class="s2">&quot;purchase&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">})</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>Minion once again handles all the internal wiring up of this stuff and it just works.  Nice.</p>

<h2>The Rest</h2>

<p>There is more to minion.js, I&#8217;ve just given you a very high level view but you should dive a bit deeper by looking at the <a href="https://github.com/gigafied/minion/blob/master/docs/getting_started.md">official docs</a>.  There is a few bits of handy sugar sprinkled on the minion types (proxy, scoped setTimeout and setInterval).  The pub/sub also goes a bit further provinding <code>Notifications</code> that allow a sort of async callback/response mechanism which can be handy.</p>

<p>Now I&#8217;ve never been a fan of these sorts of Class frameworks - I&#8217;ve never really seen the need but I must admit minion appeared at about the right time.  I&#8217;ve been playing with a nice way of structuring <a href="mongoosejs.com">mongoose</a> Schemas/Classes and I think minion here might be a nice fit.</p>

<p>Anyway check it out.  Yay a technical blog with more to come!</p>

<p><a href="https://github.com/gigafied/minion">minion.js</a></p>

<p><a href="https://github.com/kouphax/minion-tinkering">Sample Code</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Taking the Stairs]]></title>
    <link href="http://yobriefca.se/blog/2012/03/06/taking-the-stairs/"/>
    <updated>2012-03-06T23:22:00+00:00</updated>
    <id>http://yobriefca.se/blog/2012/03/06/taking-the-stairs</id>
    <content type="html"><![CDATA[<p>Ya&#8217;ll about ready for another silly analogy?  I sure am&#8230;.</p>

<p>I work on the 6th floor and recently decided to start taking the stairs.  Mostly because I&#8217;ve let myself go and I really need to drop a few pounds and those stairs are a bit of a hard slog.  But it&#8217;s worth it.  <!-- more --> It&#8217;s funny how much of a better understanding of the building layout I get by just putting in the extra effort and going up the stairs.  The stairwell itself is pretty bland but I see extra doors, and I now know were many of doors could lead.</p>

<p>So the analogy&#8230; Taking the stairs is a bit like the whole software craftsmanship thing.  Sure I could just take the prescribed route, the default stack so to speak, and as with the stairs I&#8217;d probably get where I was going for a lot of the time.  But you know what?  I&#8217;d not know much more than the average person.  What if that lift was over capacity, out of order or just smelling of urine - I&#8217;d be able to manage just fine without getting stranded on a random floor wondering what to do next, if that door I never tried went were I wanted.  Imagine the stress involved if I was already late for a meeting.  Crickey!</p>

<p>So I put the extra effort in to understand things, and it&#8217;s already given me a better perspective on things.  It&#8217;s shown me other options, the ability to decide if the what I am doing is a good approach or perhaps there is a quicker, better, healthier route.</p>

<p>How does that grab you?</p>

<p>I really need to get off this analogy trip I&#8217;m on FFS!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[The Estimation 4x4]]></title>
    <link href="http://yobriefca.se/blog/2012/02/12/the-estimation-4x4/"/>
    <updated>2012-02-12T19:36:00+00:00</updated>
    <id>http://yobriefca.se/blog/2012/02/12/the-estimation-4x4</id>
    <content type="html"><![CDATA[<blockquote><p>This post is dedicated to one of the most influential managers I&#8217;ve ever had the pleasure to work with.</p></blockquote>

<p>I&#8217;m of the opinion that the moment you start trying to apply complex mathematical rigour and time to estimation you&#8217;ve entered into a broken system. <!-- more --> You&#8217;re wasting time trying to protect yourself from finger pointing managers or getting a kicking from old school &#8220;us or them&#8221; lawyer types. None of that adds anything to the project except a big stick to beat people with and make sure they work themselves to death based a a random stab in the dark that is somehow made more realistic by the application if science. Ultimately though if the initial guesswork is wrong, and it&#8217;s seldom on the nose, the science means sweet FA. So why bother? You&#8217;re pleasing the wrong people. But then those people hold a lot of power.  So as long as we can keep them happy with the minimum of effort life should be sweet.</p>

<h2>The Answer</h2>

<p>Ladies and gentlemen I bring you the <strong>Estimation 4x4</strong> - guaranteed to knock those super science estimation techniques out of the park.</p>

<h2>The Science Bit</h2>

<p>Got a project to estimate?  I&#8217;ve done your homework for you - <strong>4 people, 4 weeks</strong>.  BOOM!  Mind Blown!  Now get on with delivering that project bro.  Oh wait it&#8217;s a big ass project - 4 people, 4 months.  Oh wait you&#8217;re limited by deadlines and/or resourcing - adjust as needed (3 people, 5 weeks or 5 people, 3 weeks).</p>

<h2>Balancing Act</h2>

<p>Careful now, 9 women dont make a baby in 1 month so don&#8217;t assume that scaling one side up to cater for the other will get the same results.  Theres a balance that needs addressed.  This is real science after all - repsect the rule and the rule will respect you.</p>

<h2>You Gotta Be Kidding Me</h2>

<p>Dont believe me?  Try it out next time.  Do your pseudo-scientific enterprise-ready finger in the air analysis.  But hey see when that project is finished see how close the 4x4 would have brought you to the real result.  I bet 9 times out of 10 it was as accurate as your real estimate, except you could have started much sooner&#8230;.</p>

<p> #winning</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Caveat Abstractor]]></title>
    <link href="http://yobriefca.se/blog/2012/02/09/caveat-abstractor/"/>
    <updated>2012-02-09T08:37:00+00:00</updated>
    <id>http://yobriefca.se/blog/2012/02/09/caveat-abstractor</id>
    <content type="html"><![CDATA[<p><em>Ramblings from 30,000ft.  The word abstraction is starting to sound odd.</em></p>

<p>Every time you create an abstraction there is a very good chance you&#8217;ve introduced unnecessary complexity into a solution.  It should never be done alone - it should be a team decision.  The goal of an abstraction is to simplify but in its untamed natural form an abstraction will only add complexity.</p>

<!-- more -->


<p>As programmers it&#8217;s easy to fall into the trap whereby we want the code that we write to be the last time anyone ever has to write that code again.  We dream of creating reusable works of art that ever other developer will use and never be concerned with the low level implementation ever again.</p>

<p>This is wrong and impossible.  An anti-pattern even!</p>

<p>It baffles me that anyone would create an abstraction that they didn&#8217;t have a need for at the time. It&#8217;s wasteful and degrades the readability, grokability and all those other good &#8220;ilities&#8221; we use.  Of course I say this like i don&#8217;t do it myself but I&#8217;d be lying to you and myself.</p>

<p>An abstraction, by definition, is an intentional hiding of implementation and knowledge but surely understanding of these things will lead to a higher chance of success in a project?  The person that created the abstraction has that understanding but it&#8217;s like they dont want anyone else to know how it works.  They&#8217;re ready to take that secret to their grave.</p>

<p>When you start to abstract you need to remind yourself you are building a specific solution and not a framework (unless you are of course).  Abstractions should be done only within the scope of the project and you should have a strong case to back up its creation (make the decision a team effort).  This may sound like overhead but if you find it difficult to justify the creation odds are the abstraction is unnecessary.</p>

<p>Abstractions should not be grand, they should be light and convey their intent clearly by other people (pair programming and peer review will help weed out any verbose abstractions).</p>

<p>If you are creating an abstraction for anything other than DRY, odds are youre probably creating it for YAGNI.  You&#8217;ll start considering irrelevant use cases and having to cater for insane edge cases.  This will happen even if you are taking a strong test driven approach - you&#8217;ll concern youself with the workings of the abstraction rather then the problem you are solving and begin creating endless &#8220;what if&#8221; tests to cater for all those &#8220;0.00000001% chance of happening&#8221; edge cases. When this happens youre going to end up in mediocrity.  Mediocre abstractions attract more abstraction.  Even in a shared codebase bad abstractions create a certain amount of implied ownership to the person that created it. Inevitably someone will come along and create an abstraction around your abstraction (even if they have access to the original source).  This in turn will likely become YAMA (Yet Another Mediocre Abstraction) attracting yet more abstraction&#8230;. You can guess where I am going with that one&#8230; Its abstractions all the way down and everytime you abstract you&#8217;ve decreased system comphension and likely destroyed another future developers soul.</p>

<p>In the same way guns dont kill people, people do - Abstraction dont kill projects, developers do.  You&#8217;ve only got yourself to blame (been there done that, will be again).  A nice simple abstraction, at the right time (e.g. When needed) can be expressive and helpful but too often we put the abstraction before the need.</p>

<p>So consider abstractions as “guilty until proven innocent” not the other way around.  Solve YOUR problem - not every other problem, not until you need to.</p>
]]></content>
  </entry>
  
</feed>
